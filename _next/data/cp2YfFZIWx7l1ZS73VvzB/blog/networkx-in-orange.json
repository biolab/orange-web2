{"pageProps":{"frontmatter":{"author":"BIOLAB","date":"2011-07-29 18:56:00+00:00","draft":false,"title":"NetworkX in Orange","blog":["analysis","network","networkx","visualization"],"oldUrl":"/blog/2011/07/29/networkx-in-orange/"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    pre: \"pre\",\n    code: \"code\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"http://networkx.lanl.gov/\",\n        children: \"NetworkX\"\n      }), \" â€“ a popular open-source python library for network analysis has finally found its way into Orange. It is now used as a base class for network representation in all Orange modules and widgets. By that, we offered to the widespread network community a fruitful and fun way to visualize and explore networks, using their existing NetworkX scripts. It has never been easier to combine network analysis and visualization with existing machine learning and data discovery methods.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Complete documentation is available in the \", _jsx(_components.a, {\n        href: \"/doc/orange25/Orange.network.html\",\n        children: \"Orange network headquarters\"\n      }), \". For a brief overview, take a look at the following example. Let us suppose we would like to analyse the data about patients, having one of two types of leukemia. So, we have a \", _jsx(_components.a, {\n        href: \"http://blog.biolab.si/wp-content/uploads/2011/07/29/leukemiagsea.tab\",\n        children: \"data set\"\n      }), \" with 72 patient, 4600+ gene expressions and a class variable. We also have a vast \", _jsx(_components.a, {\n        href: \"/blog/2011-07-networkx-in-orange/genes_biofuncttar.gz\",\n        children: \"network of human genes\"\n      }), \", connected if they share a biological function. What we would like to examine is a sub-network with only several hundred most expressed genes from the data set. To show off a bit, we will also use the \", _jsx(_components.a, {\n        href: \"/addons/\",\n        children: \"Orange Bioinformatics add-on\"\n      }), \". Here is how we do it:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-python\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" Orange\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" obiExpression\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# load leukemia data set\"\n        }), \"\\ntable = Orange.data.Table(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"\\\"/media/Ox/Projects_Archive/res/BIO/leukemia/leukemiaGSEA.tab\\\"\"\n        }), \")\\n\\nuseAttributeLabels = \", _jsx(_components.span, {\n          className: \"hljs-literal\",\n          children: \"False\"\n        }), \"\\nttest = obiExpression.ExpressionSignificance_TTest(table, useAttributeLabels)\\n\\ntarget = [table.domain.classVar(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"), table.domain.classVar(\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \")]\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# test for significantly expressed genes\"\n        }), \"\\nscore = ttest(target = target)\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# each gene is scored (t-test, p-value)\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"print\"\n        }), \" score[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"]\\n\", _jsx(_components.span, {\n          className: \"hljs-meta\",\n          children: \">>> \"\n        }), \"(FloatVariable \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'HIST1H4C'\"\n        }), \", (\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1.8377179790830149\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0.07034778767062116\"\n        }), \"))\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# sort by p-value\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"from\"\n        }), \" operator \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" itemgetter\\nscore.sort(key=\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"lambda\"\n        }), \" s: s[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"][\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"])\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# select 200 genes with the lowest p-value\"\n        }), \"\\nimportant_genes = [gene_var.name \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" gene_var, s \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" score[:\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"200\"\n        }), \"]]\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# read the gene network (5000+ genes, dense network)\"\n        }), \"\\nG = Orange.network.readwrite.read(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'genes_biofunct.gpickle'\"\n        }), \")\\n\\nitems = G.items().filter_bool({\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'gene'\"\n        }), \": important_genes})\\nindices = [i \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" i, present \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" \", _jsx(_components.span, {\n          className: \"hljs-built_in\",\n          children: \"enumerate\"\n        }), \"(items) \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"if\"\n        }), \" present]\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# build a subraph of 200 most expressed genes\"\n        }), \"\\nG_sub = G.subgraph(indices)\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In addition to the power of scripting environment, we also get the benefits of visual data exploration with Orange widgets. However, network widgets are currently under heavy development, so expect some bugs if you dare to try them. Coding should be finished in a month or two, check the blog for progress updates. Here is how to open the network in Nx Explorer widget:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-python\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" sys\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" PyQt4\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# must have OWNxExplorer in python path!\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"import\"\n        }), \" OWNxExplorer\\n\\napp=PyQt4.QtGui.QApplication(sys.argv)\\now=OWNxExplorer.OWNxExplorer()\\now.show()\\n\\n\", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# set the network\"\n        }), \"\\now.set_graph(G_sub)\\napp.exec_()\\n\"]\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}},"thumbImage":null},"__N_SSG":true}