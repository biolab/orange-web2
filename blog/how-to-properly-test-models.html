<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>My new cool app</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/4ac7ed34d61ef456.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4ac7ed34d61ef456.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-d38be8d96a62f950.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-9f90a364d66949ce.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8cfbd06f8ddd0b49.js" defer=""></script><script src="/_next/static/chunks/675-262430aa11afdf01.js" defer=""></script><script src="/_next/static/chunks/9-9d15d34c7affe00b.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-ba4a3f289f8ef3c5.js" defer=""></script><script src="/_next/static/k-9TZ-ZrkQDGbtdjjI5V3/_buildManifest.js" defer=""></script><script src="/_next/static/k-9TZ-ZrkQDGbtdjjI5V3/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.6">.iBQlkL{background:coral;height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:920px){.iBQlkL ul{display:none;}}/*!sc*/
data-styled.g1[id="sc-7295e4c-0"]{content:"iBQlkL,"}/*!sc*/
.bDMZDz{display:none;font-size:22px;margin-left:auto;}/*!sc*/
@media (max-width:920px){.bDMZDz{display:block;}}/*!sc*/
data-styled.g2[id="sc-7295e4c-1"]{content:"bDMZDz,"}/*!sc*/
html,body{height:100%;margin:0;}/*!sc*/
body{background:#fff;}/*!sc*/
html{box-sizing:border-box;font-size:16px;}/*!sc*/
*,*:before,*:after{box-sizing:inherit;}/*!sc*/
body,h1,h2,h3,h4,h5,h6,p,ol,ul{margin:0;padding:0;font-weight:normal;}/*!sc*/
ol,ul{list-style:none;}/*!sc*/
img,video{max-width:100%;height:auto;}/*!sc*/
.lg-container .lg-backdrop.in{opacity:0.75;}/*!sc*/
.lg-container .lg-toolbar.lg-group,.lg-container .lg-outer .lg-thumb-outer{background:rgba(0,0,0,0.45);}/*!sc*/
data-styled.g3[id="sc-global-cqyaiF1"]{content:"sc-global-cqyaiF1,"}/*!sc*/
.cGDPDa{max-width:800px;margin:0 auto;}/*!sc*/
data-styled.g6[id="sc-f0e62130-0"]{content:"cGDPDa,"}/*!sc*/
</style></head><body><div id="__next"><nav class="sc-7295e4c-0 iBQlkL"><ul><a href="/blog">Blog</a></ul><button class="sc-7295e4c-1 bDMZDz">X</button></nav><main><div class="sc-f0e62130-0 cGDPDa"><h1>How to Properly Test Models</h1><div class="lg-react-element "><p>On Monday we finished the second part of the workshop for the <a href="http://www.stat.si/StatWeb/en">Statistical Office</a> of Republic of Slovenia. The crowd was tough - these guys knew their numbers and asked many challenging questions. And we loved it!</p>
<a href="/blog/2017-11-how-to-properly-test-models/IMG_20171124_120523.jpg" data-gallery="true"><img alt="" srcSet="/blog/2017-11-how-to-properly-test-models/IMG_20171124_120523.jpg 1x, /blog/2017-11-how-to-properly-test-models/IMG_20171124_120523.jpg 2x" src="/blog/2017-11-how-to-properly-test-models/IMG_20171124_120523.jpg" width="1600" height="722" decoding="async" data-nimg="1" loading="lazy" style="color:transparent"/></a>
<p>One thing we discussed was how to properly test your model. Ok, we know never to test on the same data you&#x27;ve built your model with, but even training and testing on separate data is sometimes not enough. Say I&#x27;ve tested Naive Bayes, Logistic Regression and Tree. Sure, I can select the one that gives the best performance, but we could potentially (over)fit our model, too.</p>
<p>To account for this, we would normally split the data to 3 parts:</p>
<ol>
<li>training data for building a model</li>
<li>validation data for testing which parameters and which model to use</li>
<li>test data for estmating the accurracy of the model</li>
</ol>
<p>Let us try this in Orange. Load <em>heart-disease.tab</em> data set from <em>Browse documentation data sets</em> in File widget. We have 303 patients diagnosed with blood vessel narrowing (1) or diagnosed as healthy (0).</p>
<a href="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.19.15.png" data-gallery="true"><img alt="" srcSet="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.19.15.png 1x, /blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.19.15.png 2x" src="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.19.15.png" width="942" height="982" decoding="async" data-nimg="1" loading="lazy" style="color:transparent"/></a>
<p>Now, we will split the data into two parts, 85% of data for training and 15% for testing. We will send the first 85% onwards to build a model.</p>
<a href="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.37.18.png" data-gallery="true"><img alt="" srcSet="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.37.18.png 1x, /blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.37.18.png 2x" src="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.37.18.png" width="330" height="176" decoding="async" data-nimg="1" loading="lazy" style="color:transparent"/></a>
<p><a href="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.37.24.png" data-gallery="true"><img alt="" srcSet="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.37.24.png 1x, /blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.37.24.png 2x" src="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.37.24.png" width="530" height="1090" decoding="async" data-nimg="1" loading="lazy" style="color:transparent"/></a>
We sampled by a fixed proportion of data and went with 85%, which is 258 out of 303 patients.</p>
<p>We will use Naive Bayes, Logistic Regression and Tree, but you can try other models, too. This is also a place and time to try different parameters. Now we will send the models to Test &amp; Score. We used cross-validation and discovered Logistic Regression scores the highest AUC. Say this is the model and parameters we want to go with.</p>
<a href="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.11.10.png" data-gallery="true"><img alt="" srcSet="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.11.10.png 1x, /blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.11.10.png 2x" src="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.11.10.png" width="1008" height="674" decoding="async" data-nimg="1" loading="lazy" style="color:transparent"/></a>
<a href="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.11.57.png" data-gallery="true"><img alt="" srcSet="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.11.57.png 1x, /blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.11.57.png 2x" src="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.11.57.png" width="1398" height="870" decoding="async" data-nimg="1" loading="lazy" style="color:transparent"/></a>
<p>Now it is time to bring in our test data (the remaining 15%) for testing. Connect Data Sampler to Test &amp; Score once again and set the connection Remaining Data - Test Data.</p>
<a href="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.38.15.png" data-gallery="true"><img alt="" srcSet="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.38.15.png 1x, /blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.38.15.png 2x" src="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.38.15.png" width="1164" height="628" decoding="async" data-nimg="1" loading="lazy" style="color:transparent"/></a>
<p>Test &amp; Score will warn us we have test data present, but unused. Select Test on test data option and observe the results. These are now the proper scores for our models.</p>
<a href="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.12.56.png" data-gallery="true"><img alt="" srcSet="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.12.56.png 1x, /blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.12.56.png 2x" src="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.12.56.png" width="982" height="668" decoding="async" data-nimg="1" loading="lazy" style="color:transparent"/></a>
<a href="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.00.17.png" data-gallery="true"><img alt="" srcSet="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.00.17.png 1x, /blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.00.17.png 2x" src="/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.00.17.png" width="1380" height="870" decoding="async" data-nimg="1" loading="lazy" style="color:transparent"/></a>
<p>Seems like LogReg still performs well. Such procedure would normally be useful when testing a lot of models with different parameters (say +100), which you would not normally do in Orange. But it&#x27;s good to know how to do the scoring properly. Now we&#x27;re off to report on the results in Nature... ;)</p></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"author":"AJDA","date":"2017-11-29 12:26:44+00:00","draft":false,"title":"How to Properly Test Models","type":"blog","blog":["analysis","classification","education","overfitting","predictive  analytics","scoring","workshop"]},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    img: \"img\",\n    ol: \"ol\",\n    li: \"li\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"On Monday we finished the second part of the workshop for the \", _jsx(_components.a, {\n        href: \"http://www.stat.si/StatWeb/en\",\n        children: \"Statistical Office\"\n      }), \" of Republic of Slovenia. The crowd was tough - these guys knew their numbers and asked many challenging questions. And we loved it!\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2017-11-how-to-properly-test-models/IMG_20171124_120523.jpg\",\n      alt: \"\",\n      width: \"1600\",\n      height: \"722\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"One thing we discussed was how to properly test your model. Ok, we know never to test on the same data you've built your model with, but even training and testing on separate data is sometimes not enough. Say I've tested Naive Bayes, Logistic Regression and Tree. Sure, I can select the one that gives the best performance, but we could potentially (over)fit our model, too.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"To account for this, we would normally split the data to 3 parts:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"training data for building a model\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"validation data for testing which parameters and which model to use\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"test data for estmating the accurracy of the model\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Let us try this in Orange. Load \", _jsx(_components.em, {\n        children: \"heart-disease.tab\"\n      }), \" data set from \", _jsx(_components.em, {\n        children: \"Browse documentation data sets\"\n      }), \" in File widget. We have 303 patients diagnosed with blood vessel narrowing (1) or diagnosed as healthy (0).\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.19.15.png\",\n      alt: \"\",\n      width: \"942\",\n      height: \"982\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now, we will split the data into two parts, 85% of data for training and 15% for testing. We will send the first 85% onwards to build a model.\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.37.18.png\",\n      alt: \"\",\n      width: \"330\",\n      height: \"176\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.img, {\n        src: \"/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.37.24.png\",\n        alt: \"\",\n        width: \"530\",\n        height: \"1090\"\n      }), \"\\nWe sampled by a fixed proportion of data and went with 85%, which is 258 out of 303 patients.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We will use Naive Bayes, Logistic Regression and Tree, but you can try other models, too. This is also a place and time to try different parameters. Now we will send the models to Test \u0026 Score. We used cross-validation and discovered Logistic Regression scores the highest AUC. Say this is the model and parameters we want to go with.\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.11.10.png\",\n      alt: \"\",\n      width: \"1008\",\n      height: \"674\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.11.57.png\",\n      alt: \"\",\n      width: \"1398\",\n      height: \"870\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now it is time to bring in our test data (the remaining 15%) for testing. Connect Data Sampler to Test \u0026 Score once again and set the connection Remaining Data - Test Data.\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-10.38.15.png\",\n      alt: \"\",\n      width: \"1164\",\n      height: \"628\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Test \u0026 Score will warn us we have test data present, but unused. Select Test on test data option and observe the results. These are now the proper scores for our models.\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.12.56.png\",\n      alt: \"\",\n      width: \"982\",\n      height: \"668\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2017-11-how-to-properly-test-models/Screen-Shot-2017-11-29-at-11.00.17.png\",\n      alt: \"\",\n      width: \"1380\",\n      height: \"870\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Seems like LogReg still performs well. Such procedure would normally be useful when testing a lot of models with different parameters (say +100), which you would not normally do in Orange. But it's good to know how to do the scoring properly. Now we're off to report on the results in Nature... ;)\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"how-to-properly-test-models"},"buildId":"k-9TZ-ZrkQDGbtdjjI5V3","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>