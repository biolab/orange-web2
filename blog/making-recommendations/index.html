<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="description" content="Orange Data Mining Toolbox"/><meta property="og:description" content="Orange Data Mining Toolbox"/><meta property="og:url" content="https://orangedatamining.com"/><meta property="og:image" content="/_next/static/media/orange-cover.6d606323.png"/><meta property="og:image:width" content="1033"/><meta property="og:image:height" content="626"/><meta property="og:site_name" content="Orange Data Mining"/><meta name="author" content="Bioinformatics Laboratory, University of Ljubljana"/><title>Orange Data Mining - Making recommendations</title><meta name="robots" content="index,follow"/><meta property="og:title" content="Orange Data Mining - Making recommendations"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2016-08-19 20:42:59+00:00"/><meta property="article:author" content="SALVACARRION"/><meta property="article:tag" content="addons"/><meta property="article:tag" content="business intelligence"/><meta property="article:tag" content="gsoc2016"/><meta property="article:tag" content="orange3"/><meta property="article:tag" content="recommender  system"/><meta name="next-head-count" content="21"/><link rel="preload" href="/_next/static/media/a9b61b60c2d733b4-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/984cb0988e66ab60.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/984cb0988e66ab60.css" crossorigin="" data-n-g=""/><link rel="preload" href="/_next/static/css/4ac7ed34d61ef456.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/4ac7ed34d61ef456.css" crossorigin="" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-21c828b96ad33382.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-0c7baedefba6b077.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-61a1de8ce4711ed8.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-d756c69b73ac8fc5.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/110-f463c991b9377c97.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-4c99960c15ab9a0e.js" defer="" crossorigin=""></script><script src="/_next/static/BxTMTYJZ1UkL2bZDIKmHR/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/BxTMTYJZ1UkL2bZDIKmHR/_ssgManifest.js" defer="" crossorigin=""></script><style data-styled="" data-styled-version="5.3.6">.eVggRJ{max-width:1296px;margin-right:auto;margin-left:auto;padding-left:72px;padding-right:72px;height:100%;box-sizing:content-box;}/*!sc*/
@media (max-width:1130px){.eVggRJ{padding-left:30px;padding-right:30px;}}/*!sc*/
@media (max-width:720px){.eVggRJ{padding-left:15px;padding-right:15px;}}/*!sc*/
.CVQuR{max-width:1296px;margin-right:auto;margin-left:auto;padding-left:72px;padding-right:72px;height:100%;box-sizing:content-box;margin-bottom:80px;max-width:714px;}/*!sc*/
@media (max-width:1130px){.CVQuR{padding-left:30px;padding-right:30px;}}/*!sc*/
@media (max-width:720px){.CVQuR{padding-left:15px;padding-right:15px;}}/*!sc*/
@media (max-width:920px){.CVQuR{margin-bottom:60px;}}/*!sc*/
data-styled.g1[id="sc-61db3aea-0"]{content:"eVggRJ,CVQuR,"}/*!sc*/
.jyxOJT{position:relative;display:inline-block;max-width:100%;font-size:20px;line-height:1.25;font-weight:600;-webkit-text-decoration:none;text-decoration:none;color:#fff;padding:10px 15px;border-radius:5px;background-image:linear-gradient(180deg,#FE7A00 74.93%,#F65D18 100%);box-shadow:0px 10px 10px rgba(0,0,0,0.03);background-size:100%;cursor:pointer;z-index:2;}/*!sc*/
@media (max-width:720px){.jyxOJT{font-size:18px;}}/*!sc*/
.jyxOJT:before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;background-image:linear-gradient(180deg,#ffbc44 100%,#FE7A00 100%);opacity:0;z-index:-100;-webkit-transition:opacity 0.45s;transition:opacity 0.45s;}/*!sc*/
.jyxOJT:hover{color:#fff;}/*!sc*/
.jyxOJT:hover:before{opacity:1;}/*!sc*/
data-styled.g2[id="sc-b6ea565a-0"]{content:"jyxOJT,"}/*!sc*/
.bhDsrC{background:#1F1F1F;padding:38px 0 25px;color:#fff;}/*!sc*/
data-styled.g3[id="sc-62144270-0"]{content:"bhDsrC,"}/*!sc*/
.cLlhlS{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-column-gap:80px;column-gap:80px;row-gap:40px;margin-bottom:40px;}/*!sc*/
@media (max-width:720px){.cLlhlS{display:grid;grid-template-columns:1fr 1fr;-webkit-column-gap:20px;column-gap:20px;}}/*!sc*/
.cLlhlS h3{font-size:16px;font-weight:600;margin-bottom:12px;}/*!sc*/
.cLlhlS li + li{margin-top:12px;}/*!sc*/
data-styled.g4[id="sc-62144270-1"]{content:"cLlhlS,"}/*!sc*/
.eWdALT{display:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:44px;height:34px;padding:6px;border-radius:5px;border:none;background:linear-gradient(180deg,#FE7A00 74.93%,#F65D18 100%);box-shadow:0px 10px 10px rgba(0,0,0,0.03);cursor:pointer;margin-left:auto;}/*!sc*/
@media (max-width:920px){.eWdALT{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
.eWdALT div{width:22px;height:2px;background:#fff;-webkit-transform-origin:1px;-ms-transform-origin:1px;transform-origin:1px;-webkit-transition:all 0.3s linear;transition:all 0.3s linear;}/*!sc*/
data-styled.g5[id="sc-46d6b9d9-0"]{content:"eWdALT,"}/*!sc*/
.jTcDmc{-webkit-clip:rect(0 0 0 0);clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;}/*!sc*/
data-styled.g6[id="sc-cdea7863-0"]{content:"jTcDmc,"}/*!sc*/
.dAXQuQ{z-index:100;height:80px;background:#fff;box-shadow:0px 4px 10px 4px rgba(0,0,0,0.04);}/*!sc*/
data-styled.g7[id="sc-a026f25c-0"]{content:"dAXQuQ,"}/*!sc*/
.gUFsBX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}/*!sc*/
.gUFsBX .img-logo{width:115px;}/*!sc*/
data-styled.g8[id="sc-a026f25c-1"]{content:"gUFsBX,"}/*!sc*/
.bcvGIl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:920px){.bcvGIl{display:block;position:absolute;top:80px;left:0;width:100%;z-index:1;padding:0 30px 30px;background-color:#fff;opacity:0;z-index:-9999;pointer-events:none;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;box-shadow:0 4px 10px -1px rgba(0,0,0,0.04);}}/*!sc*/
@media (max-width:720px){.bcvGIl{padding:0 15px 15px;}}/*!sc*/
data-styled.g9[id="sc-a026f25c-2"]{content:"bcvGIl,"}/*!sc*/
.jjIqRA{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:920px){.jjIqRA{display:block;margin-bottom:15px;}}/*!sc*/
.jjIqRA li + li{margin-left:26px;}/*!sc*/
@media (max-width:920px){.jjIqRA li + li{margin-left:0;}}/*!sc*/
.jjIqRA a{display:inline-block;font-size:1.25rem;line-height:1;color:#000000;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.3s;transition:color 0.3s;}/*!sc*/
.jjIqRA a:hover{color:#FE7A00;}/*!sc*/
@media (max-width:920px){.jjIqRA a{padding:8px 0;}}/*!sc*/
data-styled.g10[id="sc-a026f25c-3"]{content:"jjIqRA,"}/*!sc*/
.eLPewT{position:relative;width:142px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:width 0.3s ease-in-out;transition:width 0.3s ease-in-out;margin-left:26px;}/*!sc*/
@media (max-width:920px){.eLPewT{width:auto;margin-left:0;}}/*!sc*/
data-styled.g11[id="sc-a026f25c-4"]{content:"eLPewT,"}/*!sc*/
.ipGgXV{display:inline-block;position:absolute;top:0;right:42px;width:calc(100% - 42px);height:100%;font-size:16px;line-height:1.25;padding:10px 13px;background:#fff;border-radius:5px 0px 0px 5px;border:1px solid #D9D9D9;border-right:none;-webkit-transition:width 0.3s ease-in-out;transition:width 0.3s ease-in-out;}/*!sc*/
@media (max-width:920px){.ipGgXV{display:none;}}/*!sc*/
.ipGgXV::-webkit-input-placeholder{color:#D9D9D9;}/*!sc*/
.ipGgXV::-moz-placeholder{color:#D9D9D9;}/*!sc*/
.ipGgXV:-ms-input-placeholder{color:#D9D9D9;}/*!sc*/
.ipGgXV::placeholder{color:#D9D9D9;}/*!sc*/
data-styled.g12[id="sc-a026f25c-5"]{content:"ipGgXV,"}/*!sc*/
.iFVURz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#fff;margin-left:auto;-webkit-flex:0 0 42px;-ms-flex:0 0 42px;flex:0 0 42px;height:41px;border:1px solid #474747;border-radius:0px 5px 5px 0px;background-color:#474747;}/*!sc*/
@media (max-width:920px){.iFVURz{margin-left:0;}}/*!sc*/
data-styled.g13[id="sc-a026f25c-6"]{content:"iFVURz,"}/*!sc*/
.kOMJoa{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:12px;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}/*!sc*/
data-styled.g18[id="sc-7e1621ad-0"]{content:"kOMJoa,"}/*!sc*/
.kkwPib{position:fixed;bottom:20px;right:20px;padding:20px;z-index:999;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:#1F1F1F;color:#fff;border-radius:5px;border:1px solid #D9D9D9;box-shadow:0px 6px 20px 0px rgba(0,0,0,0.06);-webkit-transform:translateY(calc(100% + 100px));-ms-transform:translateY(calc(100% + 100px));transform:translateY(calc(100% + 100px));-webkit-transition:-webkit-transform 0.5s ease-in-out;-webkit-transition:transform 0.5s ease-in-out;transition:transform 0.5s ease-in-out;}/*!sc*/
@media (max-width:720px){.kkwPib{left:10px;right:10px;bottom:10px;}}/*!sc*/
.kkwPib p{margin-bottom:11px;font-size:17px;}/*!sc*/
data-styled.g19[id="sc-7e1621ad-1"]{content:"kkwPib,"}/*!sc*/
.fkWelF{font-size:15px;padding:9px 12px;border-radius:8px;cursor:pointer;background:#1F1F1F;color:#fff;border:1px solid #fff;}/*!sc*/
.dsztgy{font-size:15px;padding:9px 12px;border-radius:8px;cursor:pointer;background:#fff;color:#1F1F1F;border:1px solid #fff;padding-left:22px;padding-right:22px;}/*!sc*/
data-styled.g20[id="sc-7e1621ad-2"]{content:"fkWelF,dsztgy,"}/*!sc*/
.eWBvvS{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
data-styled.g21[id="sc-b34fb00f-0"]{content:"eWBvvS,"}/*!sc*/
*,*:before,*:after{box-sizing:border-box;-webkit-font-smoothing:antialiased;}/*!sc*/
html,body{height:100%;margin:0;}/*!sc*/
html{font-family:'Source Sans Pro',sans-serif;font-weight:400;color:#000000;}/*!sc*/
body{background:#fff;}/*!sc*/
body,h1,h2,h3,h4,h5,h6,p,ol,ul{margin:0;padding:0;font-weight:normal;}/*!sc*/
main{-webkit-flex:1;-ms-flex:1;flex:1;}/*!sc*/
ol,ul{list-style:none;}/*!sc*/
figure{margin:0;}/*!sc*/
img,video{display:block;max-width:100%;height:auto;}/*!sc*/
a{color:unset;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
a:hover{color:unset;}/*!sc*/
strong{font-weight:600;}/*!sc*/
pre{display:block;padding:15px;margin:0 0 10px;font-size:14px;word-break:break-all;word-wrap:break-word;color:#000;border:1px solid #ebebeb;border-radius:5px;overflow-x:auto;word-wrap:normal;}/*!sc*/
pre code{padding:0 !important;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0;border:none;line-height:1.35;}/*!sc*/
code{padding:2px 3px;background:#f7f7f7;border:1px solid #ededed;border-radius:0.375rem;display:inline-block;line-height:1.2;margin:0;font-size:78%;}/*!sc*/
::selection{background-color:#FE7A00;color:#fff;}/*!sc*/
.lg-container .lg-backdrop.in{opacity:0.75;}/*!sc*/
.lg-container .lg-toolbar.lg-group,.lg-container .lg-outer .lg-thumb-outer{background:rgba(0,0,0,0.45);}/*!sc*/
pre code.hljs{display:block;overflow-x:auto;padding:1em;}/*!sc*/
code.hljs{padding:3px 5px;}/*!sc*/
.hljs{color:#24292e;background:#fff;}/*!sc*/
.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#d73a49;}/*!sc*/
.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#6f42c1;}/*!sc*/
.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#005cc5;}/*!sc*/
.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#032f62;}/*!sc*/
.hljs-built_in,.hljs-symbol{color:#e36209;}/*!sc*/
.hljs-code,.hljs-comment,.hljs-formula{color:#6a737d;}/*!sc*/
.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#22863a;}/*!sc*/
.hljs-subst{color:#24292e;}/*!sc*/
.hljs-section{color:#005cc5;font-weight:700;}/*!sc*/
.hljs-bullet{color:#735c0f;}/*!sc*/
.hljs-emphasis{color:#24292e;font-style:italic;}/*!sc*/
.hljs-strong{color:#24292e;font-weight:700;}/*!sc*/
.hljs-addition{color:#22863a;background-color:#f0fff4;}/*!sc*/
.hljs-deletion{color:#b31d28;background-color:#ffeef0;}/*!sc*/
data-styled.g22[id="sc-global-ehweHW1"]{content:"sc-global-ehweHW1,"}/*!sc*/
.dpPsin h1{font-size:44px;line-height:1.13;font-weight:700;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dpPsin h1{font-size:38px;}}/*!sc*/
@media (max-width:720px){.dpPsin h1{font-size:32px;}}/*!sc*/
.dpPsin h2{font-size:33px;line-height:1.13;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dpPsin h2{font-size:30px;}}/*!sc*/
@media (max-width:720px){.dpPsin h2{font-size:26px;}}/*!sc*/
.dpPsin h3{font-size:28px;line-height:1.18;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dpPsin h3{font-size:26px;}}/*!sc*/
@media (max-width:720px){.dpPsin h3{font-size:24px;}}/*!sc*/
.dpPsin h4{font-size:22px;line-height:1.18;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:720px){.dpPsin h4{font-size:20px;}}/*!sc*/
.dpPsin p{font-size:20px;line-height:1.4;color:#1F1F1F;}/*!sc*/
@media (max-width:1130px){.dpPsin p{font-size:20px;}}/*!sc*/
@media (max-width:920px){.dpPsin p{font-size:18px;}}/*!sc*/
.dpPsin ul,.dpPsin ol{padding-left:40px;}/*!sc*/
.dpPsin ul li,.dpPsin ol li{font-size:20px;line-height:1.4;color:#1F1F1F;}/*!sc*/
@media (max-width:1130px){.dpPsin ul li,.dpPsin ol li{font-size:20px;}}/*!sc*/
@media (max-width:920px){.dpPsin ul li,.dpPsin ol li{font-size:18px;}}/*!sc*/
.dpPsin ul li + li,.dpPsin ol li + li{margin-top:4px;}/*!sc*/
.dpPsin ul{list-style:disc;}/*!sc*/
.dpPsin ol{list-style:decimal;}/*!sc*/
.dpPsin p a,.dpPsin li a{color:#FE7A00;}/*!sc*/
.dpPsin p a:hover,.dpPsin li a:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.dpPsin * + *:not(li,a,code){margin-top:20px;}/*!sc*/
.dpPsin * + a[data-gallery],.dpPsin * + video{margin-top:40px;}/*!sc*/
.dpPsin a[data-gallery]{display:block;margin-bottom:40px;}/*!sc*/
.dpPsin iframe,.dpPsin video{margin-bottom:40px;}/*!sc*/
data-styled.g27[id="sc-8f0614a2-0"]{content:"dpPsin,"}/*!sc*/
.loxVcf{font-size:62px;line-height:1.04;font-weight:700;color:#fff;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.loxVcf{font-size:50px;}}/*!sc*/
@media (max-width:720px){.loxVcf{font-size:42px;}}/*!sc*/
data-styled.g30[id="sc-c67a4900-0"]{content:"loxVcf,"}/*!sc*/
.cyZFCR{padding:80px 0;}/*!sc*/
@media (max-width:920px){.cyZFCR{padding:60px 0;}}/*!sc*/
@media (max-width:720px){.cyZFCR{padding:40px 0;}}/*!sc*/
data-styled.g33[id="sc-b9a2839b-0"]{content:"cyZFCR,"}/*!sc*/
.cIBHvM{margin-bottom:30px;}/*!sc*/
data-styled.g34[id="sc-b9a2839b-1"]{content:"cIBHvM,"}/*!sc*/
.kBOXgB{position:relative;}/*!sc*/
data-styled.g35[id="sc-b9a2839b-2"]{content:"kBOXgB,"}/*!sc*/
.fMPIzd{position:absolute;top:0;right:100%;width:200px;margin-right:50px;text-align:right;}/*!sc*/
@media (max-width:1130px){.fMPIzd{position:unset;width:auto;text-align:left;margin:0 0 30px 0;}}/*!sc*/
data-styled.g36[id="sc-b9a2839b-3"]{content:"fMPIzd,"}/*!sc*/
.cdlBoX{font-size:20px;line-height:1.25;color:#1F1F1F;text-transform:capitalize;color:#5651EC;}/*!sc*/
@media (max-width:920px){.cdlBoX{font-size:18px;}}/*!sc*/
.ehbERY{font-size:20px;line-height:1.25;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.ehbERY{font-size:18px;}}/*!sc*/
data-styled.g37[id="sc-b9a2839b-4"]{content:"cdlBoX,ehbERY,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-b34fb00f-0 eWBvvS __className_fa886a"><nav class="sc-a026f25c-0 dAXQuQ"><div class="sc-61db3aea-0 eVggRJ"><div class="sc-a026f25c-1 gUFsBX"><a href="/"><img alt="Orange Logo" loading="lazy" width="120" height="35" decoding="async" data-nimg="1" class="img-logo" style="color:transparent" src="/_next/static/media/logo-orange.faff1861.svg"/></a><div><button aria-label="Toggle navigation" class="sc-46d6b9d9-0 eWdALT"><div></div><div></div><div></div></button><div class="sc-a026f25c-2 bcvGIl"><ul class="sc-a026f25c-3 jjIqRA"><li><a href="/examples/">Examples</a></li><li><a href="/download/">Download</a></li><li><a href="/blog/">Blog</a></li><li><a href="/docs/">Docs</a></li><li><a href="/workshops/">Workshops</a></li></ul><form class="sc-a026f25c-4 eLPewT"><div class="sc-a026f25c-5 ipGgXV">Search</div><button class="sc-a026f25c-6 iFVURz"><img alt="Icon for search" loading="lazy" width="18" height="17" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/icon-search.459b2665.svg"/><span class="sc-cdea7863-0 jTcDmc">Search through page</span></button></form></div></div></div></div></nav><main><div class="sc-b9a2839b-0 cyZFCR"><div class="sc-61db3aea-0 CVQuR"><div class="sc-b9a2839b-1 cIBHvM"><p class="sc-b9a2839b-4 cdlBoX"><strong>addons, business intelligence, gsoc2016, orange3, recommender  system</strong></p><h1 class="sc-c67a4900-0 loxVcf">Making recommendations</h1></div><div class="sc-b9a2839b-2 kBOXgB"><div class="sc-b9a2839b-3 fMPIzd"><p class="sc-b9a2839b-4 ehbERY"><strong>SALVACARRION</strong></p><p class="sc-b9a2839b-4 ehbERY">Aug 19, 2016</p></div><div class="sc-8f0614a2-0 dpPsin"><div class="lg-react-element "><p><em>This is a guest blog from the Google Summer of Code project.</em></p>
<p>Recommender systems are everywhere, we can find them on YouTube, Amazon, Netflix, iTunes,... This is because they are crucial component in a competitive retail services.</p>
<p>How can I know what you may like if I have almost no information about you? The answer: taking <a href="https://en.wikipedia.org/wiki/Collaborative_filtering">Collaborative filtering (CF)</a> approaches. Basically, this means to combine all the little knowledge we have about users and/or items in order to build a grid of knowledge with which we make recommendation.</p>
<p>To help you with that, Biolab has written <a href="https://github.com/biolab/orange3-recommendation">Orange3-Recommendation</a> - an add-on for <a href="http://orange.biolab.si/download/">Orange3</a> to train recommendation models, cross-validate them and make predictions.</p>
<h3></h3>
<h3>Input data</h3>
<p>First things first. Orange3-Recommendation can read files in native tab-delimited format, or can load data from any of the major standard spreadsheet file type, like CSV and Excel. Native format starts with a header row with feature (column) names. Second header row gives the attribute type, which can be continuous, discrete, string or time. The third header line contains meta information to identify dependent features (class), irrelevant features (ignore) or meta features (meta).</p>
<p>Here are the first few lines from a data set:</p>
<pre><code>        tid      user        movie       score
        string   discrete    discrete    continuous
        meta     row=1       col=1       class
        1        Breza       HarrySally  2
        2        Dana        Cvetje      5
        3        Cene        Prometheus  5
        4        Ksenija     HarrySally  4
        5        Albert      Matrix      4
        ...
</code></pre>
<p><strong>The third row is mandatory in this kind of datasets</strong>*, in order to know which attributes correspond to the users (row=1) and which ones to the items (col=1). For the case of big datasets, users and items must be specified as continuous attributes due to efficiency issues. (*Note: If the meta attributes <em>row</em> or <em>col</em>, some simple heuristics will be applied: users=<em>column 0</em>, items=<em>column 1</em>, class=<em>last column</em>)</p>
<p>Here are the first few lines from a data set :</p>
<pre><code>        user            movie         score         tid
        continuous      continuous    continuous    time
        row=1           col=1         class         meta
        196             242           3             881250949
        186             302           3             891717742
        22              377           1             878887116
        244             51            2             880606923
        166             346           1             886397596
        298             474           4             884182806
        ...
</code></pre>
<h3></h3>
<h3>Training a model</h3>
<p>This step is pretty simple. To train a model we have to load the data as is described above and connect it to the learner. (<em>Don&#x27;t forget to click apply</em>)</p>
<a href="/blog/2016-08-making-recommendations/__optimized-images__/data-to-brismf.png" data-gallery="true"><img alt="" loading="lazy" width="570" height="208" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2016-08-making-recommendations/__optimized-images__/data-to-brismf.png"/></a>
<p>If the model uses side information, we only need to add an extra file.</p>
<a href="/blog/2016-08-making-recommendations/__optimized-images__/TrustSVD-1.png" data-gallery="true"><img alt="" loading="lazy" width="686" height="462" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2016-08-making-recommendations/__optimized-images__/TrustSVD-1.png"/></a>
<p>In addition, we can set the parameters of our model by double-clicking it:</p>
<a href="/blog/2016-08-making-recommendations/__optimized-images__/Screen-Shot-2016-08-22-at-15.49.56.png" data-gallery="true"><img alt="" loading="lazy" width="826" height="1386" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2016-08-making-recommendations/__optimized-images__/Screen-Shot-2016-08-22-at-15.49.56.png"/></a>
<p>By using a fixed seed, we make random numbers predictable. Therefore, this feature is useful if we want to compare results in a deterministic way.</p>
<h3></h3>
<h3>Cross-validation</h3>
<p>This is as simple as it seems. The only thing to point out is that side information must be connected to the model.</p>
<a href="/blog/2016-08-making-recommendations/__optimized-images__/cv-recommendation.png" data-gallery="true"><img alt="" loading="lazy" width="1544" height="666" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2016-08-making-recommendations/__optimized-images__/cv-recommendation.png"/></a>
<p>Still, cross-validation is a robust way to see how our model is performing. I consider that it&#x27;s a good idea to check how our model performs with respect to the baseline. This presents a negligible overload* in our pipeline and makes our analysis more solid. <em>(*For 1,000,000 ratings, it can take 0.027s).</em></p>
<p>We can add a baseline leaner to <a href="/widget-catalog/evaluate/testandscore/">Test&amp;Score</a> and select the model we want to apply.</p>
<a href="/blog/2016-08-making-recommendations/__optimized-images__/Baselines.png" data-gallery="true"><img alt="" loading="lazy" width="662" height="774" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2016-08-making-recommendations/__optimized-images__/Baselines.png"/></a>
<h3>Making recommendations</h3>
<p>The prediction flow is exactly the same as in <a href="http://orange.biolab.si">Orange3</a>.</p>
<a href="/blog/2016-08-making-recommendations/__optimized-images__/Recommendation-predictions.png" data-gallery="true"><img alt="" loading="lazy" width="1146" height="564" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2016-08-making-recommendations/__optimized-images__/Recommendation-predictions.png"/></a>
<h3>Analyzing low-rank matrices</h3>
<a href="/blog/2016-08-making-recommendations/__optimized-images__/all-rank-dis.png" data-gallery="true"><img alt="" loading="lazy" width="2376" height="1420" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2016-08-making-recommendations/__optimized-images__/all-rank-dis.png"/></a>
<p>Once we&#x27;ve output the low-rank matrices, we can play around the vectors in those matrices to discover hidden relations or understand the known ones. For instance, here we plot vector 1 and 2 from the <em>item-feature matrix</em> by simply connecting Data Table with selected instances to the widget <a href="/widget-catalog/visualize/scatterplot/">Scatter Plot</a>.</p>
<a href="/blog/2016-08-making-recommendations/__optimized-images__/Visualizing-vectors.png" data-gallery="true"><img alt="" loading="lazy" width="2260" height="1664" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2016-08-making-recommendations/__optimized-images__/Visualizing-vectors.png"/></a>
<p>Using similar approaches we can discover pretty interesting things like similarity between movies or users, how movie genres relate with each other, changes in users&#x27; behavior, when the popularity of a movie has been raised due to a commercial campaign,... and many others.</p>
<p>Finally, a simple pipeline to do all of the above can be something like this:</p>
<a href="/blog/2016-08-making-recommendations/__optimized-images__/workflow-recommendation.png" data-gallery="true"><img alt="" loading="lazy" width="2946" height="1694" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2016-08-making-recommendations/__optimized-images__/workflow-recommendation.png"/></a>
<p>On the left side we connected several models to <a href="/widget-catalog/evaluate/testandscore/">Test&amp;Score</a> in order to cross-validate them. Later, we trained a <a href="http://orange3-recommendation.readthedocs.io/en/latest/widgets/svdplusplus.html">SVD++</a> model, made some predictions, got the low-rank matrices learnt by the model and plotted some vectors of the <em>Item-feature matrix.</em></p>
<h3>Analysis (Advanced users)</h3>
<p>Here we&#x27;ve made a workflow (which can be downloaded <a href="/blog/2016-08-making-recommendations/Orange3-Workflow-Movielens100k.zip">here</a>) to perform a really basic analysis on the results obtained through factoring the user and item feature matrices with <a href="http://orange3-recommendation.readthedocs.io/en/latest/widgets/brismf.html">BRISMF</a> over the <a href="http://grouplens.org/datasets/movielens/">movielens100k</a> dataset. <em>(Note: Once downloaded, set the prepared datasets in the folder &#x27;orange&#x27;. Probably you&#x27;re gonna get a couple errors. Don&#x27;t worry, it&#x27;s normal. To solve it, apply the scripts sequentially but don&#x27;t forget previously to select all the rows in the related Table.)</em></p>
<p>Instead of explaining how this pipeline works, the best thing you can do is to download it and play with it.</p>
<a href="/blog/2016-08-making-recommendations/__optimized-images__/Complex-flow.png" data-gallery="true"><img alt="" loading="lazy" width="2880" height="1800" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2016-08-making-recommendations/__optimized-images__/Complex-flow.png"/></a>
<p>One of the analysis you can do, is to plot the most popular movies across two first vectors of the matrix descomposition. Later, you can try to find clusters, tweak it a bit and find crossed relations (e.g. <em>male/female</em> Vs._ action/drama)._</p>
<a href="/blog/2016-08-making-recommendations/__optimized-images__/Cluster-movies.png" data-gallery="true"><img alt="" loading="lazy" width="2692" height="1776" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2016-08-making-recommendations/__optimized-images__/Cluster-movies.png"/></a>
<h3>Now let&#x27;s focus on the scripting part.</h3>
<h3>Rating models</h3>
<p>In this tutorial we are going to train a <a href="http://orange3-recommendation.readthedocs.io/en/latest/scripting/rating.html#brismf">BRISMF</a> model.</p>
<ol>
<li>First we <strong>import <em>Orange</em> and the learner</strong> that we want to use:</li>
</ol>
<pre><code>        import Orange
        from orangecontrib.recommendation import BRISMFLearner
</code></pre>
<ol start="2">
<li>After that, we have to <strong>load a dataset</strong>:</li>
</ol>
<pre><code>        data = Orange.data.Table(&#x27;movielens100k.tab&#x27;)
</code></pre>
<ol start="3">
<li>Then we set the <strong>learner parameters</strong>, and finally we <strong>train it</strong> passing the dataset as an argument (the returned value will be our model trained):</li>
</ol>
<pre><code>        learner = BRISMFLearner(num_factors=15, num_iter=25, learning_rate=0.07, lmbda=0.1)
        recommender = learner(data)
</code></pre>
<ol start="4">
<li>Finally, we can <strong>make predictions</strong> (in this case, for the first three pairs in the dataset):</li>
</ol>
<pre><code>        prediction = recommender(data[:3])
        print(prediction)
        &gt;&gt;&gt; [ 3.79505151 3.75096513 1.293013 ]
</code></pre>
<h3></h3>
<h3>Ranking models</h3>
<p>At this point we can try something new, let&#x27;s make recommendations for a dataset in which only binary relevance is available. For this case, <a href="http://orange3-recommendation.readthedocs.io/en/latest/scripting/ranking.html">CLiMF</a> is model that will suit our needs.</p>
<pre><code>    import Orange
    import numpy as np
    from orangecontrib.recommendation import CLiMFLearner
    
    # Load data
    data = Orange.data.Table(&#x27;epinions_train.tab&#x27;)
    
    # Train recommender
    learner = CLiMFLearner(num_factors=10, num_iter=10, learning_rate=0.0001, lmbda=0.001)
    recommender = learner(data)
    
    # Make recommendations
    recommender(X=5)
    &gt;&gt;&gt; [ 494,   803,   180, ..., 25520, 25507, 30815]
</code></pre>
<p>Later, we can score the model. In this case we&#x27;re using the <em>MeanReciprocalRank:</em></p>
<pre><code>    import Orange
    
    # Load test
    dataset testdata = Orange.data.Table(&#x27;epinions_test.tab&#x27;) 
    
    # Sample users 
    num_users = len(recommender.U)
    num_samples = min(num_users, 1000) # max. number to sample
    users_sampled = np.random.choice(np.arange(num_users), num_samples) 
    
    # Compute Mean Reciprocal Rank (MRR) 
    mrr, _ = recommender.compute_mrr(data=testdata, users=users_sampled) 
    print(&#x27;MRR: %.4f&#x27; % mrr) 
    &gt;&gt;&gt; MRR: 0.3975
</code></pre>
<h3></h3>
<h3>SGD optimizers</h3>
<p>This add-on includes several configurations that can be used to modify the updates on the low rank matrices during the stochastic gradient descent optimization.</p>
<ul>
<li><a href="http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#stochastic-gradient-descent">SGD</a>: Classical SGD update.</li>
<li><a href="http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#momentum">Momentum</a>: SGD with inertia.</li>
<li><a href="http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#nesterov-s-accelerated-gradient">Nesterov momentum</a>: A Momentum that &quot;looks ahead&quot;.</li>
<li><a href="http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#adagradient">AdaGrad</a>: Optimizer that adapts its learning rating during the process.</li>
<li><a href="http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#rmsprop">RMSProp</a>: &quot;Leaky&quot; AdaGrad.</li>
<li><a href="http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#adadelta">AdaDelta</a>: Extension of Adagrad that seeks to reduce its aggressive.</li>
<li><a href="http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#adam">Adam</a>: Similar to AdaGrad and RMSProp but with an exponentially decaying average of past gradients.</li>
<li><a href="http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#adamax">Adamax</a>: Similar to Adam, but taking the maximum between the gradient and the velocity.</li>
</ul>
<p>Do you want to learn more about this? Check our <a href="http://orange3-recommendation.readthedocs.io">documentation</a>!</p></div></div></div></div></div></main><footer class="sc-62144270-0 bhDsrC"><div class="sc-61db3aea-0 eVggRJ"><div class="sc-62144270-1 cLlhlS"><div><h3>Orange</h3><ul><li><a href="/faq/">FAQ</a></li><li><a href="/license/">License</a></li><li><a href="/privacy/">Privacy</a></li><li><a href="/citation/">Citation</a></li><li><a href="/contact/">Contact</a></li></ul></div><div><h3>Download</h3><ul><li><a href="/download/#win">Windows</a></li><li><a href="/download/#mac">Mac OS</a></li></ul></div><div><h3>Community</h3><ul><li><a href="https://twitter.com/OrangeDataMiner">Twitter</a></li><li><a href="https://www.facebook.com/orangedatamining">Facebook</a></li><li><a href="https://datascience.stackexchange.com/questions/tagged/orange">Stack Exchange</a></li><li><a href="https://www.youtube.com/channel/UClKKWBe2SCAEyv7ZNGhIe4g">YouTube</a></li><li><a href="https://discord.com/invite/FWrfeXV">Discord</a></li></ul></div><div><h3>Documentation</h3><ul><li><a href="/getting-started/">Get started</a></li><li><a href="/widget-catalog/">Widgets</a></li><li><a href="https://orange3.readthedocs.io/projects/orange-data-mining-library/en/latest/">Scripting</a></li></ul></div><div><h3>Developers</h3><ul><li><a href="https://github.com/biolab/orange3">GitHub</a></li><li><a href="http://docs.biolab.si/3/development/">Getting started</a></li></ul></div><div><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=A76TAX87ZVR3J" target="_blank" rel="noreferrer" class="sc-b6ea565a-0 jyxOJT">Donate to Orange</a></div></div><p>Copyright © University of Ljubljana</p></div></footer><div class="sc-7e1621ad-1 kkwPib"><div><p>This site uses cookies to improve your experience.</p><div class="sc-7e1621ad-0 kOMJoa"><button class="sc-7e1621ad-2 fkWelF">Details</button><button class="sc-7e1621ad-2 dsztgy">Understand</button></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontmatter":{"author":"SALVACARRION","date":"2016-08-19 20:42:59+00:00","draft":false,"title":"Making recommendations","blog":["addons","business intelligence","gsoc2016","orange3","recommender  system"],"oldUrl":"/blog/2016/08/19/making-recommendations/"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    em: \"em\",\n    a: \"a\",\n    h3: \"h3\",\n    pre: \"pre\",\n    code: \"code\",\n    strong: \"strong\",\n    img: \"img\",\n    ol: \"ol\",\n    li: \"li\",\n    ul: \"ul\"\n  }, _provideComponents(), props.components), {Figure} = _components;\n  if (!Figure) _missingMdxReference(\"Figure\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: _jsx(_components.em, {\n        children: \"This is a guest blog from the Google Summer of Code project.\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Recommender systems are everywhere, we can find them on YouTube, Amazon, Netflix, iTunes,... This is because they are crucial component in a competitive retail services.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"How can I know what you may like if I have almost no information about you? The answer: taking \", _jsx(_components.a, {\n        href: \"https://en.wikipedia.org/wiki/Collaborative_filtering\",\n        children: \"Collaborative filtering (CF)\"\n      }), \" approaches. Basically, this means to combine all the little knowledge we have about users and/or items in order to build a grid of knowledge with which we make recommendation.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To help you with that, Biolab has written \", _jsx(_components.a, {\n        href: \"https://github.com/biolab/orange3-recommendation\",\n        children: \"Orange3-Recommendation\"\n      }), \" - an add-on for \", _jsx(_components.a, {\n        href: \"http://orange.biolab.si/download/\",\n        children: \"Orange3\"\n      }), \" to train recommendation models, cross-validate them and make predictions.\"]\n    }), \"\\n\", _jsx(_components.h3, {}), \"\\n\", _jsx(_components.h3, {\n      children: \"Input data\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"First things first. Orange3-Recommendation can read files in native tab-delimited format, or can load data from any of the major standard spreadsheet file type, like CSV and Excel. Native format starts with a header row with feature (column) names. Second header row gives the attribute type, which can be continuous, discrete, string or time. The third header line contains meta information to identify dependent features (class), irrelevant features (ignore) or meta features (meta).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Here are the first few lines from a data set:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"        tid      user        movie       score\\n        string   discrete    discrete    continuous\\n        meta     row=1       col=1       class\\n        1        Breza       HarrySally  2\\n        2        Dana        Cvetje      5\\n        3        Cene        Prometheus  5\\n        4        Ksenija     HarrySally  4\\n        5        Albert      Matrix      4\\n        ...\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"The third row is mandatory in this kind of datasets\"\n      }), \"*, in order to know which attributes correspond to the users (row=1) and which ones to the items (col=1). For the case of big datasets, users and items must be specified as continuous attributes due to efficiency issues. (*Note: If the meta attributes \", _jsx(_components.em, {\n        children: \"row\"\n      }), \" or \", _jsx(_components.em, {\n        children: \"col\"\n      }), \", some simple heuristics will be applied: users=\", _jsx(_components.em, {\n        children: \"column 0\"\n      }), \", items=\", _jsx(_components.em, {\n        children: \"column 1\"\n      }), \", class=\", _jsx(_components.em, {\n        children: \"last column\"\n      }), \")\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Here are the first few lines from a data set :\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"        user            movie         score         tid\\n        continuous      continuous    continuous    time\\n        row=1           col=1         class         meta\\n        196             242           3             881250949\\n        186             302           3             891717742\\n        22              377           1             878887116\\n        244             51            2             880606923\\n        166             346           1             886397596\\n        298             474           4             884182806\\n        ...\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {}), \"\\n\", _jsx(_components.h3, {\n      children: \"Training a model\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This step is pretty simple. To train a model we have to load the data as is described above and connect it to the learner. (\", _jsx(_components.em, {\n        children: \"Don't forget to click apply\"\n      }), \")\"]\n    }), \"\\n\", _jsx(Figure, {\n      src: \"/blog/2016-08-making-recommendations/data-to-brismf.png\",\n      src: \"300\",\n      width: \"570\",\n      height: \"208\",\n      src: \"/blog/2016-08-making-recommendations/__optimized-images__/data-to-brismf.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"If the model uses side information, we only need to add an extra file.\"\n    }), \"\\n\", _jsx(Figure, {\n      src: \"/blog/2016-08-making-recommendations/TrustSVD-1.png\",\n      src: \"300\",\n      width: \"686\",\n      height: \"462\",\n      src: \"/blog/2016-08-making-recommendations/__optimized-images__/TrustSVD-1.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In addition, we can set the parameters of our model by double-clicking it:\"\n    }), \"\\n\", _jsx(Figure, {\n      src: \"/blog/2016-08-making-recommendations/Screen-Shot-2016-08-22-at-15.49.56.png\",\n      src: \"400\",\n      width: \"826\",\n      height: \"1386\",\n      src: \"/blog/2016-08-making-recommendations/__optimized-images__/Screen-Shot-2016-08-22-at-15.49.56.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"By using a fixed seed, we make random numbers predictable. Therefore, this feature is useful if we want to compare results in a deterministic way.\"\n    }), \"\\n\", _jsx(_components.h3, {}), \"\\n\", _jsx(_components.h3, {\n      children: \"Cross-validation\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is as simple as it seems. The only thing to point out is that side information must be connected to the model.\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2016-08-making-recommendations/__optimized-images__/cv-recommendation.png\",\n      alt: \"\",\n      width: \"1544\",\n      height: \"666\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Still, cross-validation is a robust way to see how our model is performing. I consider that it's a good idea to check how our model performs with respect to the baseline. This presents a negligible overload* in our pipeline and makes our analysis more solid. \", _jsx(_components.em, {\n        children: \"(*For 1,000,000 ratings, it can take 0.027s).\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"We can add a baseline leaner to \", _jsx(_components.a, {\n        href: \"/widget-catalog/evaluate/testandscore/\",\n        children: \"Test\u0026Score\"\n      }), \" and select the model we want to apply.\"]\n    }), \"\\n\", _jsx(Figure, {\n      src: \"/blog/2016-08-making-recommendations/Baselines.png\",\n      src: \"300\",\n      width: \"662\",\n      height: \"774\",\n      src: \"/blog/2016-08-making-recommendations/__optimized-images__/Baselines.png\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Making recommendations\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The prediction flow is exactly the same as in \", _jsx(_components.a, {\n        href: \"http://orange.biolab.si\",\n        children: \"Orange3\"\n      }), \".\"]\n    }), \"\\n\", _jsx(Figure, {\n      src: \"/blog/2016-08-making-recommendations/Recommendation-predictions.png\",\n      src: \"400\",\n      width: \"1146\",\n      height: \"564\",\n      src: \"/blog/2016-08-making-recommendations/__optimized-images__/Recommendation-predictions.png\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Analyzing low-rank matrices\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2016-08-making-recommendations/__optimized-images__/all-rank-dis.png\",\n      alt: \"\",\n      width: \"2376\",\n      height: \"1420\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Once we've output the low-rank matrices, we can play around the vectors in those matrices to discover hidden relations or understand the known ones. For instance, here we plot vector 1 and 2 from the \", _jsx(_components.em, {\n        children: \"item-feature matrix\"\n      }), \" by simply connecting Data Table with selected instances to the widget \", _jsx(_components.a, {\n        href: \"/widget-catalog/visualize/scatterplot/\",\n        children: \"Scatter Plot\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2016-08-making-recommendations/__optimized-images__/Visualizing-vectors.png\",\n      alt: \"\",\n      width: \"2260\",\n      height: \"1664\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Using similar approaches we can discover pretty interesting things like similarity between movies or users, how movie genres relate with each other, changes in users' behavior, when the popularity of a movie has been raised due to a commercial campaign,... and many others.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Finally, a simple pipeline to do all of the above can be something like this:\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2016-08-making-recommendations/__optimized-images__/workflow-recommendation.png\",\n      alt: \"\",\n      width: \"2946\",\n      height: \"1694\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"On the left side we connected several models to \", _jsx(_components.a, {\n        href: \"/widget-catalog/evaluate/testandscore/\",\n        children: \"Test\u0026Score\"\n      }), \" in order to cross-validate them. Later, we trained a \", _jsx(_components.a, {\n        href: \"http://orange3-recommendation.readthedocs.io/en/latest/widgets/svdplusplus.html\",\n        children: \"SVD++\"\n      }), \" model, made some predictions, got the low-rank matrices learnt by the model and plotted some vectors of the \", _jsx(_components.em, {\n        children: \"Item-feature matrix.\"\n      })]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Analysis (Advanced users)\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Here we've made a workflow (which can be downloaded \", _jsx(_components.a, {\n        href: \"/blog/2016-08-making-recommendations/Orange3-Workflow-Movielens100k.zip\",\n        children: \"here\"\n      }), \") to perform a really basic analysis on the results obtained through factoring the user and item feature matrices with \", _jsx(_components.a, {\n        href: \"http://orange3-recommendation.readthedocs.io/en/latest/widgets/brismf.html\",\n        children: \"BRISMF\"\n      }), \" over the \", _jsx(_components.a, {\n        href: \"http://grouplens.org/datasets/movielens/\",\n        children: \"movielens100k\"\n      }), \" dataset. \", _jsx(_components.em, {\n        children: \"(Note: Once downloaded, set the prepared datasets in the folder 'orange'. Probably you're gonna get a couple errors. Don't worry, it's normal. To solve it, apply the scripts sequentially but don't forget previously to select all the rows in the related Table.)\"\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Instead of explaining how this pipeline works, the best thing you can do is to download it and play with it.\"\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2016-08-making-recommendations/__optimized-images__/Complex-flow.png\",\n      alt: \"\",\n      width: \"2880\",\n      height: \"1800\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"One of the analysis you can do, is to plot the most popular movies across two first vectors of the matrix descomposition. Later, you can try to find clusters, tweak it a bit and find crossed relations (e.g. \", _jsx(_components.em, {\n        children: \"male/female\"\n      }), \" Vs._ action/drama)._\"]\n    }), \"\\n\", _jsx(_components.img, {\n      src: \"/blog/2016-08-making-recommendations/__optimized-images__/Cluster-movies.png\",\n      alt: \"\",\n      width: \"2692\",\n      height: \"1776\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Now let's focus on the scripting part.\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Rating models\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In this tutorial we are going to train a \", _jsx(_components.a, {\n        href: \"http://orange3-recommendation.readthedocs.io/en/latest/scripting/rating.html#brismf\",\n        children: \"BRISMF\"\n      }), \" model.\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"First we \", _jsxs(_components.strong, {\n          children: [\"import \", _jsx(_components.em, {\n            children: \"Orange\"\n          }), \" and the learner\"]\n        }), \" that we want to use:\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"        import Orange\\n        from orangecontrib.recommendation import BRISMFLearner\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"After that, we have to \", _jsx(_components.strong, {\n          children: \"load a dataset\"\n        }), \":\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"        data = Orange.data.Table('movielens100k.tab')\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"3\",\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Then we set the \", _jsx(_components.strong, {\n          children: \"learner parameters\"\n        }), \", and finally we \", _jsx(_components.strong, {\n          children: \"train it\"\n        }), \" passing the dataset as an argument (the returned value will be our model trained):\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"        learner = BRISMFLearner(num_factors=15, num_iter=25, learning_rate=0.07, lmbda=0.1)\\n        recommender = learner(data)\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"4\",\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Finally, we can \", _jsx(_components.strong, {\n          children: \"make predictions\"\n        }), \" (in this case, for the first three pairs in the dataset):\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"        prediction = recommender(data[:3])\\n        print(prediction)\\n        \u003e\u003e\u003e [ 3.79505151 3.75096513 1.293013 ]\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {}), \"\\n\", _jsx(_components.h3, {\n      children: \"Ranking models\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"At this point we can try something new, let's make recommendations for a dataset in which only binary relevance is available. For this case, \", _jsx(_components.a, {\n        href: \"http://orange3-recommendation.readthedocs.io/en/latest/scripting/ranking.html\",\n        children: \"CLiMF\"\n      }), \" is model that will suit our needs.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"    import Orange\\n    import numpy as np\\n    from orangecontrib.recommendation import CLiMFLearner\\n    \\n    # Load data\\n    data = Orange.data.Table('epinions_train.tab')\\n    \\n    # Train recommender\\n    learner = CLiMFLearner(num_factors=10, num_iter=10, learning_rate=0.0001, lmbda=0.001)\\n    recommender = learner(data)\\n    \\n    # Make recommendations\\n    recommender(X=5)\\n    \u003e\u003e\u003e [ 494,   803,   180, ..., 25520, 25507, 30815]\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Later, we can score the model. In this case we're using the \", _jsx(_components.em, {\n        children: \"MeanReciprocalRank:\"\n      })]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"    import Orange\\n    \\n    # Load test\\n    dataset testdata = Orange.data.Table('epinions_test.tab') \\n    \\n    # Sample users \\n    num_users = len(recommender.U)\\n    num_samples = min(num_users, 1000) # max. number to sample\\n    users_sampled = np.random.choice(np.arange(num_users), num_samples) \\n    \\n    # Compute Mean Reciprocal Rank (MRR) \\n    mrr, _ = recommender.compute_mrr(data=testdata, users=users_sampled) \\n    print('MRR: %.4f' % mrr) \\n    \u003e\u003e\u003e MRR: 0.3975\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {}), \"\\n\", _jsx(_components.h3, {\n      children: \"SGD optimizers\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This add-on includes several configurations that can be used to modify the updates on the low rank matrices during the stochastic gradient descent optimization.\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#stochastic-gradient-descent\",\n          children: \"SGD\"\n        }), \": Classical SGD update.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#momentum\",\n          children: \"Momentum\"\n        }), \": SGD with inertia.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#nesterov-s-accelerated-gradient\",\n          children: \"Nesterov momentum\"\n        }), \": A Momentum that \\\"looks ahead\\\".\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#adagradient\",\n          children: \"AdaGrad\"\n        }), \": Optimizer that adapts its learning rating during the process.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#rmsprop\",\n          children: \"RMSProp\"\n        }), \": \\\"Leaky\\\" AdaGrad.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#adadelta\",\n          children: \"AdaDelta\"\n        }), \": Extension of Adagrad that seeks to reduce its aggressive.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#adam\",\n          children: \"Adam\"\n        }), \": Similar to AdaGrad and RMSProp but with an exponentially decaying average of past gradients.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"http://orange3-recommendation.readthedocs.io/en/latest/scripting/optimizers.html#adamax\",\n          children: \"Adamax\"\n        }), \": Similar to Adam, but taking the maximum between the gradient and the velocity.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Do you want to learn more about this? Check our \", _jsx(_components.a, {\n        href: \"http://orange3-recommendation.readthedocs.io\",\n        children: \"documentation\"\n      }), \"!\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}},"thumbImage":null},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"making-recommendations"},"buildId":"BxTMTYJZ1UkL2bZDIKmHR","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>