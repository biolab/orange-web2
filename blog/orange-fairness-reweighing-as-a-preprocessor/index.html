<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="description" content="Orange Data Mining Toolbox"/><meta property="og:url" content="https://orangedatamining.com"/><meta property="og:site_name" content="Orange Data Mining"/><meta name="author" content="Bioinformatics Laboratory, University of Ljubljana"/><title>Orange Data Mining - Orange Fairness - Reweighing as a preprocessor</title><meta name="robots" content="index,follow"/><meta property="og:title" content="Orange Data Mining - Orange Fairness - Reweighing as a preprocessor"/><meta property="og:description" content="Expanding on the Orange fairness Reweighing widget: using it as a preprocessor and integrating new fairness scoring metrics."/><meta property="og:type" content="article"/><meta property="article:published_time" content="2023-09-19 04:00:00+00:00"/><meta property="article:author" content="Žan Mervič"/><meta property="article:tag" content="fairness"/><meta property="article:tag" content="reweighing"/><meta property="og:image" content="/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-thumb.png"/><meta property="og:image:width" content="856"/><meta property="og:image:height" content="500"/><meta name="next-head-count" content="18"/><link rel="preload" href="/_next/static/media/a9b61b60c2d733b4-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/984cb0988e66ab60.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/984cb0988e66ab60.css" crossorigin="" data-n-g=""/><link rel="preload" href="/_next/static/css/4ac7ed34d61ef456.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/4ac7ed34d61ef456.css" crossorigin="" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-21c828b96ad33382.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-0c7baedefba6b077.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-61a1de8ce4711ed8.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-17308531683348cb.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/110-f463c991b9377c97.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-14ac368a4e45afc7.js" defer="" crossorigin=""></script><script src="/_next/static/UCC30uRzCVyCHqkrYGGOn/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/UCC30uRzCVyCHqkrYGGOn/_ssgManifest.js" defer="" crossorigin=""></script><style data-styled="" data-styled-version="5.3.6">.eVggRJ{max-width:1296px;margin-right:auto;margin-left:auto;padding-left:72px;padding-right:72px;height:100%;box-sizing:content-box;}/*!sc*/
@media (max-width:1130px){.eVggRJ{padding-left:30px;padding-right:30px;}}/*!sc*/
@media (max-width:720px){.eVggRJ{padding-left:15px;padding-right:15px;}}/*!sc*/
.CVQuR{max-width:1296px;margin-right:auto;margin-left:auto;padding-left:72px;padding-right:72px;height:100%;box-sizing:content-box;margin-bottom:80px;max-width:714px;}/*!sc*/
@media (max-width:1130px){.CVQuR{padding-left:30px;padding-right:30px;}}/*!sc*/
@media (max-width:720px){.CVQuR{padding-left:15px;padding-right:15px;}}/*!sc*/
@media (max-width:920px){.CVQuR{margin-bottom:60px;}}/*!sc*/
data-styled.g1[id="sc-61db3aea-0"]{content:"eVggRJ,CVQuR,"}/*!sc*/
.jyxOJT{position:relative;display:inline-block;max-width:100%;font-size:20px;line-height:1.25;font-weight:600;-webkit-text-decoration:none;text-decoration:none;color:#fff;padding:10px 15px;border-radius:5px;background-image:linear-gradient(180deg,#FE7A00 74.93%,#F65D18 100%);box-shadow:0px 10px 10px rgba(0,0,0,0.03);background-size:100%;cursor:pointer;z-index:2;}/*!sc*/
@media (max-width:720px){.jyxOJT{font-size:18px;}}/*!sc*/
.jyxOJT:before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;background-image:linear-gradient(180deg,#ffbc44 100%,#FE7A00 100%);opacity:0;z-index:-100;-webkit-transition:opacity 0.45s;transition:opacity 0.45s;}/*!sc*/
.jyxOJT:hover{color:#fff;}/*!sc*/
.jyxOJT:hover:before{opacity:1;}/*!sc*/
data-styled.g2[id="sc-b6ea565a-0"]{content:"jyxOJT,"}/*!sc*/
.bhDsrC{background:#1F1F1F;padding:38px 0 25px;color:#fff;}/*!sc*/
data-styled.g3[id="sc-62144270-0"]{content:"bhDsrC,"}/*!sc*/
.cLlhlS{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-column-gap:80px;column-gap:80px;row-gap:40px;margin-bottom:40px;}/*!sc*/
@media (max-width:720px){.cLlhlS{display:grid;grid-template-columns:1fr 1fr;-webkit-column-gap:20px;column-gap:20px;}}/*!sc*/
.cLlhlS h3{font-size:16px;font-weight:600;margin-bottom:12px;}/*!sc*/
.cLlhlS li + li{margin-top:12px;}/*!sc*/
data-styled.g4[id="sc-62144270-1"]{content:"cLlhlS,"}/*!sc*/
.eWdALT{display:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:44px;height:34px;padding:6px;border-radius:5px;border:none;background:linear-gradient(180deg,#FE7A00 74.93%,#F65D18 100%);box-shadow:0px 10px 10px rgba(0,0,0,0.03);cursor:pointer;margin-left:auto;}/*!sc*/
@media (max-width:920px){.eWdALT{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
.eWdALT div{width:22px;height:2px;background:#fff;-webkit-transform-origin:1px;-ms-transform-origin:1px;transform-origin:1px;-webkit-transition:all 0.3s linear;transition:all 0.3s linear;}/*!sc*/
data-styled.g5[id="sc-46d6b9d9-0"]{content:"eWdALT,"}/*!sc*/
.jTcDmc{-webkit-clip:rect(0 0 0 0);clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;}/*!sc*/
data-styled.g6[id="sc-cdea7863-0"]{content:"jTcDmc,"}/*!sc*/
.dAXQuQ{z-index:100;height:80px;background:#fff;box-shadow:0px 4px 10px 4px rgba(0,0,0,0.04);}/*!sc*/
data-styled.g7[id="sc-a026f25c-0"]{content:"dAXQuQ,"}/*!sc*/
.gUFsBX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}/*!sc*/
.gUFsBX .img-logo{width:115px;}/*!sc*/
data-styled.g8[id="sc-a026f25c-1"]{content:"gUFsBX,"}/*!sc*/
.bcvGIl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:920px){.bcvGIl{display:block;position:absolute;top:80px;left:0;width:100%;z-index:1;padding:0 30px 30px;background-color:#fff;opacity:0;z-index:-9999;pointer-events:none;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;box-shadow:0 4px 10px -1px rgba(0,0,0,0.04);}}/*!sc*/
@media (max-width:720px){.bcvGIl{padding:0 15px 15px;}}/*!sc*/
data-styled.g9[id="sc-a026f25c-2"]{content:"bcvGIl,"}/*!sc*/
.jjIqRA{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:920px){.jjIqRA{display:block;margin-bottom:15px;}}/*!sc*/
.jjIqRA li + li{margin-left:26px;}/*!sc*/
@media (max-width:920px){.jjIqRA li + li{margin-left:0;}}/*!sc*/
.jjIqRA a{display:inline-block;font-size:1.25rem;line-height:1;color:#000000;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.3s;transition:color 0.3s;}/*!sc*/
.jjIqRA a:hover{color:#FE7A00;}/*!sc*/
@media (max-width:920px){.jjIqRA a{padding:8px 0;}}/*!sc*/
data-styled.g10[id="sc-a026f25c-3"]{content:"jjIqRA,"}/*!sc*/
.eLPewT{position:relative;width:142px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:width 0.3s ease-in-out;transition:width 0.3s ease-in-out;margin-left:26px;}/*!sc*/
@media (max-width:920px){.eLPewT{width:auto;margin-left:0;}}/*!sc*/
data-styled.g11[id="sc-a026f25c-4"]{content:"eLPewT,"}/*!sc*/
.ipGgXV{display:inline-block;position:absolute;top:0;right:42px;width:calc(100% - 42px);height:100%;font-size:16px;line-height:1.25;padding:10px 13px;background:#fff;border-radius:5px 0px 0px 5px;border:1px solid #D9D9D9;border-right:none;-webkit-transition:width 0.3s ease-in-out;transition:width 0.3s ease-in-out;}/*!sc*/
@media (max-width:920px){.ipGgXV{display:none;}}/*!sc*/
.ipGgXV::-webkit-input-placeholder{color:#D9D9D9;}/*!sc*/
.ipGgXV::-moz-placeholder{color:#D9D9D9;}/*!sc*/
.ipGgXV:-ms-input-placeholder{color:#D9D9D9;}/*!sc*/
.ipGgXV::placeholder{color:#D9D9D9;}/*!sc*/
data-styled.g12[id="sc-a026f25c-5"]{content:"ipGgXV,"}/*!sc*/
.iFVURz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#fff;margin-left:auto;-webkit-flex:0 0 42px;-ms-flex:0 0 42px;flex:0 0 42px;height:41px;border:1px solid #474747;border-radius:0px 5px 5px 0px;background-color:#474747;}/*!sc*/
@media (max-width:920px){.iFVURz{margin-left:0;}}/*!sc*/
data-styled.g13[id="sc-a026f25c-6"]{content:"iFVURz,"}/*!sc*/
.kOMJoa{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:12px;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}/*!sc*/
data-styled.g18[id="sc-7e1621ad-0"]{content:"kOMJoa,"}/*!sc*/
.kkwPib{position:fixed;bottom:20px;right:20px;padding:20px;z-index:999;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:#1F1F1F;color:#fff;border-radius:5px;border:1px solid #D9D9D9;box-shadow:0px 6px 20px 0px rgba(0,0,0,0.06);-webkit-transform:translateY(calc(100% + 100px));-ms-transform:translateY(calc(100% + 100px));transform:translateY(calc(100% + 100px));-webkit-transition:-webkit-transform 0.5s ease-in-out;-webkit-transition:transform 0.5s ease-in-out;transition:transform 0.5s ease-in-out;}/*!sc*/
@media (max-width:720px){.kkwPib{left:10px;right:10px;bottom:10px;}}/*!sc*/
.kkwPib p{margin-bottom:11px;font-size:17px;}/*!sc*/
data-styled.g19[id="sc-7e1621ad-1"]{content:"kkwPib,"}/*!sc*/
.fkWelF{font-size:15px;padding:9px 12px;border-radius:8px;cursor:pointer;background:#1F1F1F;color:#fff;border:1px solid #fff;}/*!sc*/
.dsztgy{font-size:15px;padding:9px 12px;border-radius:8px;cursor:pointer;background:#fff;color:#1F1F1F;border:1px solid #fff;padding-left:22px;padding-right:22px;}/*!sc*/
data-styled.g20[id="sc-7e1621ad-2"]{content:"fkWelF,dsztgy,"}/*!sc*/
.eWBvvS{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
data-styled.g21[id="sc-b34fb00f-0"]{content:"eWBvvS,"}/*!sc*/
*,*:before,*:after{box-sizing:border-box;-webkit-font-smoothing:antialiased;}/*!sc*/
html,body{height:100%;margin:0;}/*!sc*/
html{font-family:'Source Sans Pro',sans-serif;font-weight:400;color:#000000;}/*!sc*/
body{background:#fff;}/*!sc*/
body,h1,h2,h3,h4,h5,h6,p,ol,ul{margin:0;padding:0;font-weight:normal;}/*!sc*/
main{-webkit-flex:1;-ms-flex:1;flex:1;}/*!sc*/
ol,ul{list-style:none;}/*!sc*/
figure{margin:0;}/*!sc*/
img,video{display:block;max-width:100%;height:auto;}/*!sc*/
a{color:unset;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
a:hover{color:unset;}/*!sc*/
strong{font-weight:600;}/*!sc*/
pre{display:block;padding:15px;margin:0 0 10px;font-size:14px;word-break:break-all;word-wrap:break-word;color:#000;border:1px solid #ebebeb;border-radius:5px;overflow-x:auto;word-wrap:normal;}/*!sc*/
pre code{padding:0 !important;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0;border:none;line-height:1.35;}/*!sc*/
code{padding:2px 3px;background:#f7f7f7;border:1px solid #ededed;border-radius:0.375rem;display:inline-block;line-height:1.2;margin:0;font-size:78%;}/*!sc*/
::selection{background-color:#FE7A00;color:#fff;}/*!sc*/
.lg-container .lg-backdrop.in{opacity:0.75;}/*!sc*/
.lg-container .lg-toolbar.lg-group,.lg-container .lg-outer .lg-thumb-outer{background:rgba(0,0,0,0.45);}/*!sc*/
pre code.hljs{display:block;overflow-x:auto;padding:1em;}/*!sc*/
code.hljs{padding:3px 5px;}/*!sc*/
.hljs{color:#24292e;background:#fff;}/*!sc*/
.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#d73a49;}/*!sc*/
.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#6f42c1;}/*!sc*/
.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#005cc5;}/*!sc*/
.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#032f62;}/*!sc*/
.hljs-built_in,.hljs-symbol{color:#e36209;}/*!sc*/
.hljs-code,.hljs-comment,.hljs-formula{color:#6a737d;}/*!sc*/
.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#22863a;}/*!sc*/
.hljs-subst{color:#24292e;}/*!sc*/
.hljs-section{color:#005cc5;font-weight:700;}/*!sc*/
.hljs-bullet{color:#735c0f;}/*!sc*/
.hljs-emphasis{color:#24292e;font-style:italic;}/*!sc*/
.hljs-strong{color:#24292e;font-weight:700;}/*!sc*/
.hljs-addition{color:#22863a;background-color:#f0fff4;}/*!sc*/
.hljs-deletion{color:#b31d28;background-color:#ffeef0;}/*!sc*/
data-styled.g22[id="sc-global-ehweHW1"]{content:"sc-global-ehweHW1,"}/*!sc*/
.dpPsin h1{font-size:44px;line-height:1.13;font-weight:700;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dpPsin h1{font-size:38px;}}/*!sc*/
@media (max-width:720px){.dpPsin h1{font-size:32px;}}/*!sc*/
.dpPsin h2{font-size:33px;line-height:1.13;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dpPsin h2{font-size:30px;}}/*!sc*/
@media (max-width:720px){.dpPsin h2{font-size:26px;}}/*!sc*/
.dpPsin h3{font-size:28px;line-height:1.18;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dpPsin h3{font-size:26px;}}/*!sc*/
@media (max-width:720px){.dpPsin h3{font-size:24px;}}/*!sc*/
.dpPsin h4{font-size:22px;line-height:1.18;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:720px){.dpPsin h4{font-size:20px;}}/*!sc*/
.dpPsin p{font-size:20px;line-height:1.4;color:#1F1F1F;}/*!sc*/
@media (max-width:1130px){.dpPsin p{font-size:20px;}}/*!sc*/
@media (max-width:920px){.dpPsin p{font-size:18px;}}/*!sc*/
.dpPsin ul,.dpPsin ol{padding-left:40px;}/*!sc*/
.dpPsin ul li,.dpPsin ol li{font-size:20px;line-height:1.4;color:#1F1F1F;}/*!sc*/
@media (max-width:1130px){.dpPsin ul li,.dpPsin ol li{font-size:20px;}}/*!sc*/
@media (max-width:920px){.dpPsin ul li,.dpPsin ol li{font-size:18px;}}/*!sc*/
.dpPsin ul li + li,.dpPsin ol li + li{margin-top:4px;}/*!sc*/
.dpPsin ul{list-style:disc;}/*!sc*/
.dpPsin ol{list-style:decimal;}/*!sc*/
.dpPsin p a,.dpPsin li a{color:#FE7A00;}/*!sc*/
.dpPsin p a:hover,.dpPsin li a:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.dpPsin * + *:not(li,a,code){margin-top:20px;}/*!sc*/
.dpPsin * + a[data-gallery],.dpPsin * + video{margin-top:40px;}/*!sc*/
.dpPsin a[data-gallery]{display:block;margin-bottom:40px;}/*!sc*/
.dpPsin iframe,.dpPsin video{margin-bottom:40px;}/*!sc*/
data-styled.g27[id="sc-8f0614a2-0"]{content:"dpPsin,"}/*!sc*/
.cHIhER{display:block;margin-left:auto;margin-right:auto;}/*!sc*/
data-styled.g28[id="sc-8f0614a2-1"]{content:"cHIhER,"}/*!sc*/
.loxVcf{font-size:62px;line-height:1.04;font-weight:700;color:#fff;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.loxVcf{font-size:50px;}}/*!sc*/
@media (max-width:720px){.loxVcf{font-size:42px;}}/*!sc*/
data-styled.g30[id="sc-c67a4900-0"]{content:"loxVcf,"}/*!sc*/
.dDgGIT{padding:80px 0;}/*!sc*/
@media (max-width:920px){.dDgGIT{padding:60px 0;}}/*!sc*/
@media (max-width:720px){.dDgGIT{padding:40px 0;}}/*!sc*/
data-styled.g33[id="sc-1656ea35-0"]{content:"dDgGIT,"}/*!sc*/
.gAKRba{margin-bottom:30px;}/*!sc*/
data-styled.g34[id="sc-1656ea35-1"]{content:"gAKRba,"}/*!sc*/
.fgUqXj{position:relative;}/*!sc*/
data-styled.g35[id="sc-1656ea35-2"]{content:"fgUqXj,"}/*!sc*/
.gWiuYb{position:absolute;top:0;right:100%;width:200px;margin-right:50px;text-align:right;}/*!sc*/
@media (max-width:1130px){.gWiuYb{position:unset;width:auto;text-align:left;margin:0 0 30px 0;}}/*!sc*/
data-styled.g36[id="sc-1656ea35-3"]{content:"gWiuYb,"}/*!sc*/
.cRMIwp{font-size:20px;line-height:1.25;color:#1F1F1F;text-transform:capitalize;color:#5651EC;}/*!sc*/
@media (max-width:920px){.cRMIwp{font-size:18px;}}/*!sc*/
.gnfHZK{font-size:20px;line-height:1.25;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.gnfHZK{font-size:18px;}}/*!sc*/
data-styled.g37[id="sc-1656ea35-4"]{content:"cRMIwp,gnfHZK,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-b34fb00f-0 eWBvvS __className_fa886a"><nav class="sc-a026f25c-0 dAXQuQ"><div class="sc-61db3aea-0 eVggRJ"><div class="sc-a026f25c-1 gUFsBX"><a href="/"><img alt="Orange Logo" loading="lazy" width="120" height="35" decoding="async" data-nimg="1" class="img-logo" style="color:transparent" src="/_next/static/media/logo-orange.faff1861.svg"/></a><div><button aria-label="Toggle navigation" class="sc-46d6b9d9-0 eWdALT"><div></div><div></div><div></div></button><div class="sc-a026f25c-2 bcvGIl"><ul class="sc-a026f25c-3 jjIqRA"><li><a href="/examples/">Examples</a></li><li><a href="/download/">Download</a></li><li><a href="/blog/">Blog</a></li><li><a href="/docs/">Docs</a></li><li><a href="/workshops/">Workshops</a></li></ul><form class="sc-a026f25c-4 eLPewT"><div class="sc-a026f25c-5 ipGgXV">Search</div><button class="sc-a026f25c-6 iFVURz"><img alt="Icon for search" loading="lazy" width="18" height="17" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/icon-search.459b2665.svg"/><span class="sc-cdea7863-0 jTcDmc">Search through page</span></button></form></div></div></div></div></nav><main><div class="sc-1656ea35-0 dDgGIT"><div class="sc-61db3aea-0 CVQuR"><div class="sc-1656ea35-1 gAKRba"><p class="sc-1656ea35-4 cRMIwp"><strong>fairness, reweighing</strong></p><h1 class="sc-c67a4900-0 loxVcf">Orange Fairness - Reweighing as a preprocessor</h1></div><div class="sc-1656ea35-2 fgUqXj"><div class="sc-1656ea35-3 gWiuYb"><p class="sc-1656ea35-4 gnfHZK"><strong>Žan Mervič</strong></p><p class="sc-1656ea35-4 gnfHZK">Sep 19, 2023</p></div><div class="sc-8f0614a2-0 dpPsin"><div class="lg-react-element "><p>In the <a href="/blog/2023-09-19-fairness-reweighing-dataset/">previous blog post</a>, we introduced the Orange fairness Reweighing widget and used it to reweigh a dataset. In this blog, we will explore another use case for the Reweighing widget: using it as a preprocessor for a specific model.</p>
<h3>Fairness metrics:</h3>
<p>With the fairness addon and widgets that come with it, we also introduced four bias scoring metrics which we can use to evaluate the fairness of model predictions. The metrics are:</p>
<ul>
<li>Disparate Impact (DI): The ratio of favorable outcomes for an unprivileged group to that of the privileged group. An ideal value of 1.0 means the ratio is the same for both groups.<!-- -->
<ul>
<li>DI &lt; 1.0: The privileged group receives favorable outcomes at a higher rate than the unprivileged group.</li>
<li>DI &gt; 1.0: The privileged group receives favorable outcomes at a lower rate than the unprivileged group.</li>
</ul>
</li>
<li>Statistical Parity Difference (SPD): Very similar to disparate impact. Instead of the ratio, it measures the difference in favorable outcomes. An ideal value is 0.0.<!-- -->
<ul>
<li>SPD &lt; 0: The privileged group has a higher rate of favorable outcomes.</li>
<li>SPD &gt; 0: The privileged group has a lower rate of favorable outcomes.</li>
</ul>
</li>
<li>Average Odds Difference (AOD): This metric calculates the average difference between the true positive rates (correctly predicting a positive outcome) and false positive rates (incorrectly predicting a positive outcome) for both the privileged and unprivileged groups. A value of 0.0 indicates equal rates for both groups, signifying fairness.<!-- -->
<ul>
<li>AOD &lt; 0: Indicates bias in favor of the privileged group.</li>
<li>AOD &gt; 0: Indicates bias against the privileged group.</li>
</ul>
</li>
<li>Equal Opportunity Difference (EOD): Similar to the Average Odds Difference. It measures the difference in true positive rates. An ideal value is 0.0, indicating the difference in true positive rates is the same for both groups.<!-- -->
<ul>
<li>EOD &lt; 0: The privileged group has a higher true positive rate.</li>
<li>EOD &gt; 0: The privileged group has a lower true positive rate.</li>
</ul>
</li>
</ul>
<h3>Weighted Logistic Regression and Combine Preprocessors:</h3>
<p>At the time of writing, there were two limitations in using the Reweighing widget as a preprocessor:</p>
<ul>
<li>Currently, model widgets in Orange do not account for instance weights when training.</li>
<li>Model widgets only accept one preprocessor widget as an input; this usually would be fine since all preprocessors can be added from a single widget called Preprocess, but Reweighing is a separate widget and thus could not be combined with other methods.</li>
</ul>
<p>To combat this, we introduced two new widgets which we will use in the example below:</p>
<ul>
<li>Weighted Logistic Regression is an adapted form of the Logistic Regression widget designed to handle weighted datasets.</li>
<li>Combine Preprocessors, which enables users to merge multiple preprocessors into one before inputting it into a widget. This becomes handy when integrating preprocessors other than Reweighing with a model.</li>
</ul>
<h2>Orange use case</h2>
<p>Now that we know all the required widgets and new fairness scoring metrics, let us explore a real-world example of using the reweighing widget as a preprocessor. Doing so will allow us to use the reweighing algorithm when evaluating model performance using cross-validation, random sampling, etc.</p>
<p>We will use the <a href="http://archive.ics.uci.edu/dataset/144/statlog+german+credit+data">German credit dataset</a> for this illustration. The German Credit is a dataset related to bank loans. The main goal is to assess an individual&#x27;s credit risk - whether a person is a good or bad credit risk. The collection consists of 1,000 cases with 20 attributes, of which 13 are categorical and 7 are numerical. The attributes include financial characteristics such as the amount and purpose of the loan, employment status, and credit history, as well as personal features like age, gender, housing status, and foreign worker status. The most frequently used protected attributes in this collection are gender and age.</p>
<p>Like the previous blog, we will not use the As Fairness Data widget to select fairness attributes. Instead, we will use the default attributes, &quot;sex&quot; as the protected attribute and &quot;male&quot; as the privileged group, already defined in the dataset.</p>
<a href="/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-use-case.png" data-gallery="true"><img alt="" loading="lazy" width="1037" height="467" decoding="async" data-nimg="1" class="sc-8f0614a2-1 cHIhER" style="color:transparent" src="/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-use-case.png"/></a>
<a href="/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-scores.png" data-gallery="true"><img alt="" loading="lazy" width="1217" height="471" decoding="async" data-nimg="1" class="sc-8f0614a2-1 cHIhER" style="color:transparent" src="/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-scores.png"/></a>
<p>The results show that the model using reweighing as a preprocessor achieved better fairness scores than the model without reweighing at the cost of slightly lower accuracy. The Reweighing algorithm mainly focuses on the Disparate Impact and Statistical Parity Difference metrics, which reflect the ratio and difference between the favorable outcomes of the unprivileged and privileged groups.</p>
<p>In this case the ratio of favorable outcomes went from 0.869 to 0.952, while the difference went from -0.105 to -0.038. Both metrics indicate less bias towards the unprivileged group.</p>
<p>We can easily visualize the results using a box plot. For a clearer visualization, we have used the Edit Domain widget to merge all values of each protected group into one, which resulted in two groups: males and females.</p>
<a href="/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-box-plot-bias.png" data-gallery="true"><img alt="" loading="lazy" width="1208" height="520" decoding="async" data-nimg="1" class="sc-8f0614a2-1 cHIhER" style="color:transparent" src="/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-box-plot-bias.png"/></a>
<a href="/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-box-plot-debias.png" data-gallery="true"><img alt="" loading="lazy" width="1203" height="513" decoding="async" data-nimg="1" class="sc-8f0614a2-1 cHIhER" style="color:transparent" src="/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-box-plot-debias.png"/></a>
<p>The first box plot shows the ratio of favorable and unfavorable outcomes for the unprivileged and privileged groups for predictions from the model without reweighing. The second box plot shows the same for the model with reweighing.</p>
<p>We can see that when using reweighing the amount of favorable outcomes increased for the unprivileged group and decreased for the privileged group bringing the ratios closer between the two groups.</p></div></div></div></div></div></main><footer class="sc-62144270-0 bhDsrC"><div class="sc-61db3aea-0 eVggRJ"><div class="sc-62144270-1 cLlhlS"><div><h3>Orange</h3><ul><li><a href="/faq/">FAQ</a></li><li><a href="/license/">License</a></li><li><a href="/privacy/">Privacy</a></li><li><a href="/citation/">Citation</a></li><li><a href="/contact/">Contact</a></li></ul></div><div><h3>Download</h3><ul><li><a href="/download/#win">Windows</a></li><li><a href="/download/#mac">Mac OS</a></li></ul></div><div><h3>Community</h3><ul><li><a href="https://twitter.com/OrangeDataMiner">Twitter</a></li><li><a href="https://www.facebook.com/orangedatamining">Facebook</a></li><li><a href="https://datascience.stackexchange.com/questions/tagged/orange">Stack Exchange</a></li><li><a href="https://www.youtube.com/channel/UClKKWBe2SCAEyv7ZNGhIe4g">YouTube</a></li><li><a href="https://discord.com/invite/FWrfeXV">Discord</a></li></ul></div><div><h3>Documentation</h3><ul><li><a href="/getting-started/">Get started</a></li><li><a href="/widget-catalog/">Widgets</a></li><li><a href="https://orange3.readthedocs.io/projects/orange-data-mining-library/en/latest/">Scripting</a></li></ul></div><div><h3>Developers</h3><ul><li><a href="https://github.com/biolab/orange3">GitHub</a></li><li><a href="http://docs.biolab.si/3/development/">Getting started</a></li></ul></div><div><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=A76TAX87ZVR3J" target="_blank" rel="noreferrer" class="sc-b6ea565a-0 jyxOJT">Donate to Orange</a></div></div><p>Copyright © University of Ljubljana</p></div></footer><div class="sc-7e1621ad-1 kkwPib"><div><p>This site uses cookies to improve your experience.</p><div class="sc-7e1621ad-0 kOMJoa"><button class="sc-7e1621ad-2 fkWelF">Details</button><button class="sc-7e1621ad-2 dsztgy">Understand</button></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontmatter":{"author":"Žan Mervič","date":"2023-09-19 04:00:00+00:00","draft":false,"title":"Orange Fairness - Reweighing as a preprocessor","thumbImage":"2023-09-19-fairness-reweighing-preprocessor-thumb.png","frontPageImage":"2023-09-19-fairness-reweighing-preprocessor-thumb.png","blog":["fairness","reweighing"],"shortExcerpt":"Expanding on the Orange fairness Reweighing widget: using it as a preprocessor and integrating new fairness scoring metrics.","longExcerpt":"Diving deeper into the Orange fairness Reweighing widget, we explore its use as a preprocessor for models. Discover the new widgets and fairness scoring metrics; all illustrated using the German credit dataset, supplemented with visual insights through box plots.","oldUrl":"/blog/2023/2023-09-19-fairness-reweighing-preprocessor/"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    h3: \"h3\",\n    ul: \"ul\",\n    li: \"li\",\n    h2: \"h2\"\n  }, _provideComponents(), props.components), {WindowScreenshot} = _components;\n  if (!WindowScreenshot) _missingMdxReference(\"WindowScreenshot\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"In the \", _jsx(_components.a, {\n        href: \"/blog/2023-09-19-fairness-reweighing-dataset/\",\n        children: \"previous blog post\"\n      }), \", we introduced the Orange fairness Reweighing widget and used it to reweigh a dataset. In this blog, we will explore another use case for the Reweighing widget: using it as a preprocessor for a specific model.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Fairness metrics:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"With the fairness addon and widgets that come with it, we also introduced four bias scoring metrics which we can use to evaluate the fairness of model predictions. The metrics are:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Disparate Impact (DI): The ratio of favorable outcomes for an unprivileged group to that of the privileged group. An ideal value of 1.0 means the ratio is the same for both groups.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"DI \u003c 1.0: The privileged group receives favorable outcomes at a higher rate than the unprivileged group.\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"DI \u003e 1.0: The privileged group receives favorable outcomes at a lower rate than the unprivileged group.\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Statistical Parity Difference (SPD): Very similar to disparate impact. Instead of the ratio, it measures the difference in favorable outcomes. An ideal value is 0.0.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"SPD \u003c 0: The privileged group has a higher rate of favorable outcomes.\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"SPD \u003e 0: The privileged group has a lower rate of favorable outcomes.\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Average Odds Difference (AOD): This metric calculates the average difference between the true positive rates (correctly predicting a positive outcome) and false positive rates (incorrectly predicting a positive outcome) for both the privileged and unprivileged groups. A value of 0.0 indicates equal rates for both groups, signifying fairness.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"AOD \u003c 0: Indicates bias in favor of the privileged group.\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"AOD \u003e 0: Indicates bias against the privileged group.\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Equal Opportunity Difference (EOD): Similar to the Average Odds Difference. It measures the difference in true positive rates. An ideal value is 0.0, indicating the difference in true positive rates is the same for both groups.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"EOD \u003c 0: The privileged group has a higher true positive rate.\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"EOD \u003e 0: The privileged group has a lower true positive rate.\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Weighted Logistic Regression and Combine Preprocessors:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"At the time of writing, there were two limitations in using the Reweighing widget as a preprocessor:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Currently, model widgets in Orange do not account for instance weights when training.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Model widgets only accept one preprocessor widget as an input; this usually would be fine since all preprocessors can be added from a single widget called Preprocess, but Reweighing is a separate widget and thus could not be combined with other methods.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"To combat this, we introduced two new widgets which we will use in the example below:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Weighted Logistic Regression is an adapted form of the Logistic Regression widget designed to handle weighted datasets.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Combine Preprocessors, which enables users to merge multiple preprocessors into one before inputting it into a widget. This becomes handy when integrating preprocessors other than Reweighing with a model.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Orange use case\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now that we know all the required widgets and new fairness scoring metrics, let us explore a real-world example of using the reweighing widget as a preprocessor. Doing so will allow us to use the reweighing algorithm when evaluating model performance using cross-validation, random sampling, etc.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"We will use the \", _jsx(_components.a, {\n        href: \"http://archive.ics.uci.edu/dataset/144/statlog+german+credit+data\",\n        children: \"German credit dataset\"\n      }), \" for this illustration. The German Credit is a dataset related to bank loans. The main goal is to assess an individual's credit risk - whether a person is a good or bad credit risk. The collection consists of 1,000 cases with 20 attributes, of which 13 are categorical and 7 are numerical. The attributes include financial characteristics such as the amount and purpose of the loan, employment status, and credit history, as well as personal features like age, gender, housing status, and foreign worker status. The most frequently used protected attributes in this collection are gender and age.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Like the previous blog, we will not use the As Fairness Data widget to select fairness attributes. Instead, we will use the default attributes, \\\"sex\\\" as the protected attribute and \\\"male\\\" as the privileged group, already defined in the dataset.\"\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2023-09-fairness-reweighing-preprocessor/2023-09-19-fairness-reweighing-preprocessor-use-case.png\",\n      width: \"1037\",\n      height: \"467\",\n      src: \"/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-use-case.png\"\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2023-09-fairness-reweighing-preprocessor/2023-09-19-fairness-reweighing-preprocessor-scores.png\",\n      width: \"1217\",\n      height: \"471\",\n      src: \"/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-scores.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The results show that the model using reweighing as a preprocessor achieved better fairness scores than the model without reweighing at the cost of slightly lower accuracy. The Reweighing algorithm mainly focuses on the Disparate Impact and Statistical Parity Difference metrics, which reflect the ratio and difference between the favorable outcomes of the unprivileged and privileged groups.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In this case the ratio of favorable outcomes went from 0.869 to 0.952, while the difference went from -0.105 to -0.038. Both metrics indicate less bias towards the unprivileged group.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We can easily visualize the results using a box plot. For a clearer visualization, we have used the Edit Domain widget to merge all values of each protected group into one, which resulted in two groups: males and females.\"\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2023-09-fairness-reweighing-preprocessor/2023-09-19-fairness-reweighing-preprocessor-box-plot-bias.png\",\n      width: \"1208\",\n      height: \"520\",\n      src: \"/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-box-plot-bias.png\"\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2023-09-fairness-reweighing-preprocessor/2023-09-19-fairness-reweighing-preprocessor-box-plot-debias.png\",\n      width: \"1203\",\n      height: \"513\",\n      src: \"/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-box-plot-debias.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The first box plot shows the ratio of favorable and unfavorable outcomes for the unprivileged and privileged groups for predictions from the model without reweighing. The second box plot shows the same for the model with reweighing.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We can see that when using reweighing the amount of favorable outcomes increased for the unprivileged group and decreased for the privileged group bringing the ratios closer between the two groups.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}},"thumbImage":{"width":856,"height":500,"src":"/blog/2023-09-fairness-reweighing-preprocessor/__optimized-images__/2023-09-19-fairness-reweighing-preprocessor-thumb.png"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"orange-fairness-reweighing-as-a-preprocessor"},"buildId":"UCC30uRzCVyCHqkrYGGOn","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>