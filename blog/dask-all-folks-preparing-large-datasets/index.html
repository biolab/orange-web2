<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="description" content="Orange Data Mining Toolbox"/><meta property="og:url" content="https://orangedatamining.com"/><meta property="og:site_name" content="Orange Data Mining"/><meta name="author" content="Bioinformatics Laboratory, University of Ljubljana"/><title>Orange Data Mining - Dask all Folks: Preparing Large Datasets</title><meta name="robots" content="index,follow"/><meta property="og:title" content="Orange Data Mining - Dask all Folks: Preparing Large Datasets"/><meta property="og:description" content="Preparing large HDF5 datasets that load into Orange as on-disk data."/><meta property="og:type" content="article"/><meta property="article:published_time" content="2023-10-24"/><meta property="article:author" content="Noah Novšak"/><meta property="article:tag" content="dask"/><meta property="article:tag" content="development"/><meta property="og:image" content="/blog/2023-10-dask-all-folks/__optimized-images__/2023-10-24-dask-all-folks.png"/><meta property="og:image:width" content="726"/><meta property="og:image:height" content="416"/><meta name="next-head-count" content="18"/><link rel="preload" href="/_next/static/media/a9b61b60c2d733b4-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/984cb0988e66ab60.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/984cb0988e66ab60.css" crossorigin="" data-n-g=""/><link rel="preload" href="/_next/static/css/4ac7ed34d61ef456.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/4ac7ed34d61ef456.css" crossorigin="" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-21c828b96ad33382.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-0c7baedefba6b077.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-61a1de8ce4711ed8.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-c8abfdc0d470c25a.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/110-f463c991b9377c97.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-14ac368a4e45afc7.js" defer="" crossorigin=""></script><script src="/_next/static/luKyl1p3VEilTReSc9GQ_/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/luKyl1p3VEilTReSc9GQ_/_ssgManifest.js" defer="" crossorigin=""></script><style data-styled="" data-styled-version="5.3.6">.eVggRJ{max-width:1296px;margin-right:auto;margin-left:auto;padding-left:72px;padding-right:72px;height:100%;box-sizing:content-box;}/*!sc*/
@media (max-width:1130px){.eVggRJ{padding-left:30px;padding-right:30px;}}/*!sc*/
@media (max-width:720px){.eVggRJ{padding-left:15px;padding-right:15px;}}/*!sc*/
.CVQuR{max-width:1296px;margin-right:auto;margin-left:auto;padding-left:72px;padding-right:72px;height:100%;box-sizing:content-box;margin-bottom:80px;max-width:714px;}/*!sc*/
@media (max-width:1130px){.CVQuR{padding-left:30px;padding-right:30px;}}/*!sc*/
@media (max-width:720px){.CVQuR{padding-left:15px;padding-right:15px;}}/*!sc*/
@media (max-width:920px){.CVQuR{margin-bottom:60px;}}/*!sc*/
data-styled.g1[id="sc-61db3aea-0"]{content:"eVggRJ,CVQuR,"}/*!sc*/
.jyxOJT{position:relative;display:inline-block;max-width:100%;font-size:20px;line-height:1.25;font-weight:600;-webkit-text-decoration:none;text-decoration:none;color:#fff;padding:10px 15px;border-radius:5px;background-image:linear-gradient(180deg,#FE7A00 74.93%,#F65D18 100%);box-shadow:0px 10px 10px rgba(0,0,0,0.03);background-size:100%;cursor:pointer;z-index:2;}/*!sc*/
@media (max-width:720px){.jyxOJT{font-size:18px;}}/*!sc*/
.jyxOJT:before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;background-image:linear-gradient(180deg,#ffbc44 100%,#FE7A00 100%);opacity:0;z-index:-100;-webkit-transition:opacity 0.45s;transition:opacity 0.45s;}/*!sc*/
.jyxOJT:hover{color:#fff;}/*!sc*/
.jyxOJT:hover:before{opacity:1;}/*!sc*/
data-styled.g2[id="sc-b6ea565a-0"]{content:"jyxOJT,"}/*!sc*/
.bhDsrC{background:#1F1F1F;padding:38px 0 25px;color:#fff;}/*!sc*/
data-styled.g3[id="sc-62144270-0"]{content:"bhDsrC,"}/*!sc*/
.cLlhlS{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-column-gap:80px;column-gap:80px;row-gap:40px;margin-bottom:40px;}/*!sc*/
@media (max-width:720px){.cLlhlS{display:grid;grid-template-columns:1fr 1fr;-webkit-column-gap:20px;column-gap:20px;}}/*!sc*/
.cLlhlS h3{font-size:16px;font-weight:600;margin-bottom:12px;}/*!sc*/
.cLlhlS li + li{margin-top:12px;}/*!sc*/
data-styled.g4[id="sc-62144270-1"]{content:"cLlhlS,"}/*!sc*/
.eWdALT{display:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:44px;height:34px;padding:6px;border-radius:5px;border:none;background:linear-gradient(180deg,#FE7A00 74.93%,#F65D18 100%);box-shadow:0px 10px 10px rgba(0,0,0,0.03);cursor:pointer;margin-left:auto;}/*!sc*/
@media (max-width:920px){.eWdALT{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
.eWdALT div{width:22px;height:2px;background:#fff;-webkit-transform-origin:1px;-ms-transform-origin:1px;transform-origin:1px;-webkit-transition:all 0.3s linear;transition:all 0.3s linear;}/*!sc*/
data-styled.g5[id="sc-46d6b9d9-0"]{content:"eWdALT,"}/*!sc*/
.jTcDmc{-webkit-clip:rect(0 0 0 0);clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;}/*!sc*/
data-styled.g6[id="sc-cdea7863-0"]{content:"jTcDmc,"}/*!sc*/
.dAXQuQ{z-index:100;height:80px;background:#fff;box-shadow:0px 4px 10px 4px rgba(0,0,0,0.04);}/*!sc*/
data-styled.g7[id="sc-a026f25c-0"]{content:"dAXQuQ,"}/*!sc*/
.gUFsBX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}/*!sc*/
.gUFsBX .img-logo{width:115px;}/*!sc*/
data-styled.g8[id="sc-a026f25c-1"]{content:"gUFsBX,"}/*!sc*/
.bcvGIl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:920px){.bcvGIl{display:block;position:absolute;top:80px;left:0;width:100%;z-index:1;padding:0 30px 30px;background-color:#fff;opacity:0;z-index:-9999;pointer-events:none;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;box-shadow:0 4px 10px -1px rgba(0,0,0,0.04);}}/*!sc*/
@media (max-width:720px){.bcvGIl{padding:0 15px 15px;}}/*!sc*/
data-styled.g9[id="sc-a026f25c-2"]{content:"bcvGIl,"}/*!sc*/
.jjIqRA{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:920px){.jjIqRA{display:block;margin-bottom:15px;}}/*!sc*/
.jjIqRA li + li{margin-left:26px;}/*!sc*/
@media (max-width:920px){.jjIqRA li + li{margin-left:0;}}/*!sc*/
.jjIqRA a{display:inline-block;font-size:1.25rem;line-height:1;color:#000000;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.3s;transition:color 0.3s;}/*!sc*/
.jjIqRA a:hover{color:#FE7A00;}/*!sc*/
@media (max-width:920px){.jjIqRA a{padding:8px 0;}}/*!sc*/
data-styled.g10[id="sc-a026f25c-3"]{content:"jjIqRA,"}/*!sc*/
.eLPewT{position:relative;width:142px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:width 0.3s ease-in-out;transition:width 0.3s ease-in-out;margin-left:26px;}/*!sc*/
@media (max-width:920px){.eLPewT{width:auto;margin-left:0;}}/*!sc*/
data-styled.g11[id="sc-a026f25c-4"]{content:"eLPewT,"}/*!sc*/
.ipGgXV{display:inline-block;position:absolute;top:0;right:42px;width:calc(100% - 42px);height:100%;font-size:16px;line-height:1.25;padding:10px 13px;background:#fff;border-radius:5px 0px 0px 5px;border:1px solid #D9D9D9;border-right:none;-webkit-transition:width 0.3s ease-in-out;transition:width 0.3s ease-in-out;}/*!sc*/
@media (max-width:920px){.ipGgXV{display:none;}}/*!sc*/
.ipGgXV::-webkit-input-placeholder{color:#D9D9D9;}/*!sc*/
.ipGgXV::-moz-placeholder{color:#D9D9D9;}/*!sc*/
.ipGgXV:-ms-input-placeholder{color:#D9D9D9;}/*!sc*/
.ipGgXV::placeholder{color:#D9D9D9;}/*!sc*/
data-styled.g12[id="sc-a026f25c-5"]{content:"ipGgXV,"}/*!sc*/
.iFVURz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#fff;margin-left:auto;-webkit-flex:0 0 42px;-ms-flex:0 0 42px;flex:0 0 42px;height:41px;border:1px solid #474747;border-radius:0px 5px 5px 0px;background-color:#474747;}/*!sc*/
@media (max-width:920px){.iFVURz{margin-left:0;}}/*!sc*/
data-styled.g13[id="sc-a026f25c-6"]{content:"iFVURz,"}/*!sc*/
.dHCIcK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:12px;}/*!sc*/
data-styled.g18[id="sc-10517f3d-0"]{content:"dHCIcK,"}/*!sc*/
.gYCGYz{position:fixed;bottom:20px;right:20px;padding:20px;z-index:999;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:#1F1F1F;color:#fff;border-radius:5px;border:1px solid #D9D9D9;box-shadow:0px 6px 20px 0px rgba(0,0,0,0.06);-webkit-transform:translateY(calc(100% + 100px));-ms-transform:translateY(calc(100% + 100px));transform:translateY(calc(100% + 100px));-webkit-transition:-webkit-transform 0.5s ease-in-out;-webkit-transition:transform 0.5s ease-in-out;transition:transform 0.5s ease-in-out;}/*!sc*/
@media (max-width:720px){.gYCGYz{left:10px;right:10px;bottom:10px;}}/*!sc*/
.gYCGYz p{margin-bottom:11px;font-size:17px;}/*!sc*/
data-styled.g19[id="sc-10517f3d-1"]{content:"gYCGYz,"}/*!sc*/
.cXxltF{font-size:15px;padding:9px 12px;border-radius:8px;cursor:pointer;background:#1F1F1F;color:#fff;border:1px solid #fff;}/*!sc*/
.bWKbUu{font-size:15px;padding:9px 12px;border-radius:8px;cursor:pointer;margin-left:auto;background:#fff;color:#1F1F1F;border:1px solid #fff;padding-left:22px;padding-right:22px;}/*!sc*/
data-styled.g20[id="sc-10517f3d-2"]{content:"cXxltF,bWKbUu,"}/*!sc*/
.eWBvvS{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
data-styled.g21[id="sc-b34fb00f-0"]{content:"eWBvvS,"}/*!sc*/
*,*:before,*:after{box-sizing:border-box;-webkit-font-smoothing:antialiased;}/*!sc*/
html,body{height:100%;margin:0;}/*!sc*/
html{font-family:'Source Sans Pro',sans-serif;font-weight:400;color:#000000;}/*!sc*/
body{background:#fff;}/*!sc*/
body,h1,h2,h3,h4,h5,h6,p,ol,ul{margin:0;padding:0;font-weight:normal;}/*!sc*/
main{-webkit-flex:1;-ms-flex:1;flex:1;}/*!sc*/
ol,ul{list-style:none;}/*!sc*/
figure{margin:0;}/*!sc*/
img,video{display:block;max-width:100%;height:auto;}/*!sc*/
a{color:unset;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
a:hover{color:unset;}/*!sc*/
strong{font-weight:600;}/*!sc*/
pre{display:block;padding:15px;margin:0 0 10px;font-size:14px;word-break:break-all;word-wrap:break-word;color:#000;border:1px solid #ebebeb;border-radius:5px;overflow-x:auto;word-wrap:normal;}/*!sc*/
pre code{padding:0 !important;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0;border:none;line-height:1.35;}/*!sc*/
code{padding:2px 3px;background:#f7f7f7;border:1px solid #ededed;border-radius:0.375rem;display:inline-block;line-height:1.2;margin:0;font-size:78%;}/*!sc*/
::selection{background-color:#FE7A00;color:#fff;}/*!sc*/
.lg-container .lg-backdrop.in{opacity:0.75;}/*!sc*/
.lg-container .lg-toolbar.lg-group,.lg-container .lg-outer .lg-thumb-outer{background:rgba(0,0,0,0.45);}/*!sc*/
pre code.hljs{display:block;overflow-x:auto;padding:1em;}/*!sc*/
code.hljs{padding:3px 5px;}/*!sc*/
.hljs{color:#24292e;background:#fff;}/*!sc*/
.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#d73a49;}/*!sc*/
.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#6f42c1;}/*!sc*/
.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#005cc5;}/*!sc*/
.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#032f62;}/*!sc*/
.hljs-built_in,.hljs-symbol{color:#e36209;}/*!sc*/
.hljs-code,.hljs-comment,.hljs-formula{color:#6a737d;}/*!sc*/
.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#22863a;}/*!sc*/
.hljs-subst{color:#24292e;}/*!sc*/
.hljs-section{color:#005cc5;font-weight:700;}/*!sc*/
.hljs-bullet{color:#735c0f;}/*!sc*/
.hljs-emphasis{color:#24292e;font-style:italic;}/*!sc*/
.hljs-strong{color:#24292e;font-weight:700;}/*!sc*/
.hljs-addition{color:#22863a;background-color:#f0fff4;}/*!sc*/
.hljs-deletion{color:#b31d28;background-color:#ffeef0;}/*!sc*/
data-styled.g22[id="sc-global-ehweHW1"]{content:"sc-global-ehweHW1,"}/*!sc*/
.dpPsin h1{font-size:44px;line-height:1.13;font-weight:700;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dpPsin h1{font-size:38px;}}/*!sc*/
@media (max-width:720px){.dpPsin h1{font-size:32px;}}/*!sc*/
.dpPsin h2{font-size:33px;line-height:1.13;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dpPsin h2{font-size:30px;}}/*!sc*/
@media (max-width:720px){.dpPsin h2{font-size:26px;}}/*!sc*/
.dpPsin h3{font-size:28px;line-height:1.18;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dpPsin h3{font-size:26px;}}/*!sc*/
@media (max-width:720px){.dpPsin h3{font-size:24px;}}/*!sc*/
.dpPsin h4{font-size:22px;line-height:1.18;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:720px){.dpPsin h4{font-size:20px;}}/*!sc*/
.dpPsin p{font-size:20px;line-height:1.4;color:#1F1F1F;}/*!sc*/
@media (max-width:1130px){.dpPsin p{font-size:20px;}}/*!sc*/
@media (max-width:920px){.dpPsin p{font-size:18px;}}/*!sc*/
.dpPsin ul,.dpPsin ol{padding-left:40px;}/*!sc*/
.dpPsin ul li,.dpPsin ol li{font-size:20px;line-height:1.4;color:#1F1F1F;}/*!sc*/
@media (max-width:1130px){.dpPsin ul li,.dpPsin ol li{font-size:20px;}}/*!sc*/
@media (max-width:920px){.dpPsin ul li,.dpPsin ol li{font-size:18px;}}/*!sc*/
.dpPsin ul li + li,.dpPsin ol li + li{margin-top:4px;}/*!sc*/
.dpPsin ul{list-style:disc;}/*!sc*/
.dpPsin ol{list-style:decimal;}/*!sc*/
.dpPsin p a,.dpPsin li a{color:#FE7A00;}/*!sc*/
.dpPsin p a:hover,.dpPsin li a:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.dpPsin * + *:not(li,a,code){margin-top:20px;}/*!sc*/
.dpPsin * + a[data-gallery],.dpPsin * + video{margin-top:40px;}/*!sc*/
.dpPsin a[data-gallery]{display:block;margin-bottom:40px;}/*!sc*/
.dpPsin iframe,.dpPsin video{margin-bottom:40px;}/*!sc*/
data-styled.g27[id="sc-8f0614a2-0"]{content:"dpPsin,"}/*!sc*/
.loxVcf{font-size:62px;line-height:1.04;font-weight:700;color:#fff;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.loxVcf{font-size:50px;}}/*!sc*/
@media (max-width:720px){.loxVcf{font-size:42px;}}/*!sc*/
data-styled.g30[id="sc-c67a4900-0"]{content:"loxVcf,"}/*!sc*/
.dDgGIT{padding:80px 0;}/*!sc*/
@media (max-width:920px){.dDgGIT{padding:60px 0;}}/*!sc*/
@media (max-width:720px){.dDgGIT{padding:40px 0;}}/*!sc*/
data-styled.g33[id="sc-1656ea35-0"]{content:"dDgGIT,"}/*!sc*/
.gAKRba{margin-bottom:30px;}/*!sc*/
data-styled.g34[id="sc-1656ea35-1"]{content:"gAKRba,"}/*!sc*/
.fgUqXj{position:relative;}/*!sc*/
data-styled.g35[id="sc-1656ea35-2"]{content:"fgUqXj,"}/*!sc*/
.gWiuYb{position:absolute;top:0;right:100%;width:200px;margin-right:50px;text-align:right;}/*!sc*/
@media (max-width:1130px){.gWiuYb{position:unset;width:auto;text-align:left;margin:0 0 30px 0;}}/*!sc*/
data-styled.g36[id="sc-1656ea35-3"]{content:"gWiuYb,"}/*!sc*/
.cRMIwp{font-size:20px;line-height:1.25;color:#1F1F1F;text-transform:capitalize;color:#5651EC;}/*!sc*/
@media (max-width:920px){.cRMIwp{font-size:18px;}}/*!sc*/
.gnfHZK{font-size:20px;line-height:1.25;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.gnfHZK{font-size:18px;}}/*!sc*/
data-styled.g37[id="sc-1656ea35-4"]{content:"cRMIwp,gnfHZK,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-b34fb00f-0 eWBvvS __className_fa886a"><nav class="sc-a026f25c-0 dAXQuQ"><div class="sc-61db3aea-0 eVggRJ"><div class="sc-a026f25c-1 gUFsBX"><a href="/"><img alt="Orange Logo" loading="lazy" width="120" height="35" decoding="async" data-nimg="1" class="img-logo" style="color:transparent" src="/_next/static/media/logo-orange.faff1861.svg"/></a><div><button aria-label="Toggle navigation" class="sc-46d6b9d9-0 eWdALT"><div></div><div></div><div></div></button><div class="sc-a026f25c-2 bcvGIl"><ul class="sc-a026f25c-3 jjIqRA"><li><a href="/examples/">Examples</a></li><li><a href="/download/">Download</a></li><li><a href="/blog/">Blog</a></li><li><a href="/docs/">Docs</a></li><li><a href="/workshops/">Workshops</a></li></ul><form class="sc-a026f25c-4 eLPewT"><div class="sc-a026f25c-5 ipGgXV">Search</div><button class="sc-a026f25c-6 iFVURz"><img alt="Icon for search" loading="lazy" width="18" height="17" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/icon-search.459b2665.svg"/><span class="sc-cdea7863-0 jTcDmc">Search through page</span></button></form></div></div></div></div></nav><main><div class="sc-1656ea35-0 dDgGIT"><div class="sc-61db3aea-0 CVQuR"><div class="sc-1656ea35-1 gAKRba"><p class="sc-1656ea35-4 cRMIwp"><strong>dask, development</strong></p><h1 class="sc-c67a4900-0 loxVcf">Dask all Folks: Preparing Large Datasets</h1></div><div class="sc-1656ea35-2 fgUqXj"><div class="sc-1656ea35-3 gWiuYb"><p class="sc-1656ea35-4 gnfHZK"><strong>Noah Novšak</strong></p><p class="sc-1656ea35-4 gnfHZK">Oct 24, 2023</p></div><div class="sc-8f0614a2-0 dpPsin"><div class="lg-react-element "><p>Today, we will delve into the exciting world of Dask once again, and explore how to finally bring your own data into Orange. Or, more precisely, into an <a href="https://github.com/biolab/orange3/wiki/Orange-with-Dask">experimental version of Orange that supports Dask</a>.</p>
<p>If you&#x27;ve already set up your data as an Orange Table and you would just like to re-encode it to better support dask, then all you have to do is export it again as a <code>.hdf5</code> file. This is done either with the <em>Save Data</em> widget (choose &quot;Orange on-disk data&quot; as the file type) or in <em>python</em> like so:</p>
<pre><code class="hljs language-python">table = Table(<span class="hljs-string">&#x27;my_data.tab&#x27;</span>)
table.save(<span class="hljs-string">&#x27;my_data.hdf5&#x27;</span>)
</code></pre>
<p>Simple as that, end of blog, see you next time!</p>
<p>Well, not quite. For everyone that has a bunch of data in some other format, it&#x27;s not quite as simple. So here&#x27;s a short guide on preparing your data for Orange.</p>
<p>First of all I&#x27;ll assume your data can be read in python into something resembling a <a href="https://numpy.org/">numpy</a> array. If that is not the case, your first step will be to make it so. Next, in addition to the array you will also need to make a <em>domain</em> for your data. That is where we store all the extra information that describes the contents of your data (feature names, types, target variables, etc.).</p>
<pre><code class="hljs language-python"><span class="hljs-meta">&gt;&gt;&gt; </span>table = Table(<span class="hljs-string">&#x27;heart_disease&#x27;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>table.domain.attributes
(ContinuousVariable(name=<span class="hljs-string">&#x27;age&#x27;</span>, number_of_decimals=<span class="hljs-number">0</span>),
 DiscreteVariable(name=<span class="hljs-string">&#x27;gender&#x27;</span>, values=(<span class="hljs-string">&#x27;female&#x27;</span>, <span class="hljs-string">&#x27;male&#x27;</span>)),
...
</code></pre>
<p>Usually in a <code>.csv</code> or <code>.tab</code> file we would write this information in the header (the first or first three rows). But the <a href="https://www.hdfgroup.org/solutions/hdf5">HDF5</a> format is somewhat different. It is very flexible and allows information to be stored in many different ways. So we&#x27;ve had to come up with a consistent way to save this information that is as true to the internal structure of our table a possible and simple to implement even outside orange. What we&#x27;ve settled on (depicted in the diagram below) is to make separate arrays to store the raw data, and an extra group to hold the additional information.</p>
<pre><code class="hljs language-html">├── X (Data)
├── Y (Class Data)
├── metas (Meta Data)
│   ├── 0 (Column 1)
│   ├── 1 (Column 2)
│   └── ... (Additional columns)
└── domain
    ├── attributes/class_vars/metas (Domain)
    └── attributes_args/class_vars_args/metas_args (Optional)
</code></pre>
<p>Now let&#x27;s try to apply this idea on an actual dataset! The simplest approach is to use a library like <a href="https://www.h5py.org/">h5py</a>, this way it boils down to just a couple lines of code. First we can save our data arrays, (note that due to data types the <em>metas</em> array is split up and saved by columns).</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">with</span> h5py.File(<span class="hljs-string">&#x27;my_data.hdf5&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:
    f.create_dataset(<span class="hljs-string">&#x27;X&#x27;</span>, data=x_array)
    f.create_dataset(<span class="hljs-string">&#x27;Y&#x27;</span>, data=y_array)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> data_metas.shape[<span class="hljs-number">1</span>]:
        f.create_dataset(<span class="hljs-string">f&#x27;metas/<span class="hljs-subst">{i}</span>&#x27;</span>, data=metas_array[:, i])
</code></pre>
<p>The next step is to make and store our domain. We&#x27;ll have to make separate arrays for each of our attributes, class variables and meta attributes, and save them with the appropriate names. These &#x27;domain&#x27; arrays should consist of two columns, indicating the name and type of each feature (each row representing one column of data).</p>
<pre><code class="hljs language-python">attributes = np.array(
    [[<span class="hljs-string">&#x27;age&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>], <span class="hljs-comment"># ContinuousVariable(name=&#x27;age&#x27;)</span>
     [<span class="hljs-string">&#x27;gender&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], <span class="hljs-comment"># DiscreteVariable(name=&#x27;gender&#x27;)</span>
     ...],
    dtype=<span class="hljs-string">&#x27;S&#x27;</span>
)
class_vars = ...
<span class="hljs-keyword">with</span> h5py.File(<span class="hljs-string">&#x27;my_data.hdf5&#x27;</span>, <span class="hljs-string">&#x27;r+&#x27;</span>) <span class="hljs-keyword">as</span> f:
    domain = f.create_group(<span class="hljs-string">&#x27;domain&#x27;</span>)
    domain.create_dataset(<span class="hljs-string">&#x27;attributes&#x27;</span>, data=attributes)
    domain.creat_dataset(<span class="hljs-string">&#x27;class_vars&#x27;</span>, data=class_vars)
</code></pre>
<p>Remember the <em>heart-disease</em> table from the example above? Well you can see that the domain contains a little bit more than just the name and type of variables. Continuous variables can specify how accurate they are and discrete variables can also represent non-numeric data by specifying values. These parameters can be saved in our domain in seperate (optional) arrays. Because this additional information can be quite complex and varied though, we decided the most reasonable way to save them is to use <a href="https://www.json.org/json-en.html">json</a>.</p>
<pre><code class="hljs language-python">attributes_args = np.array(
    [[<span class="hljs-string">&#x27;{number_of_decimals: 0}&#x27;</span>],
     [<span class="hljs-string">&#x27;{values: (&quot;female&quot;, &quot;male&quot;)}&#x27;</span>],
     ...],
    dtype=<span class="hljs-string">&#x27;S&#x27;</span>
)
<span class="hljs-keyword">with</span> h5py.File(<span class="hljs-string">&#x27;my_data.hdf5&#x27;</span>, <span class="hljs-string">&#x27;r+&#x27;</span>) <span class="hljs-keyword">as</span> f:
    domain = f[<span class="hljs-string">&#x27;domain&#x27;</span>]
    domain.create_dataset(<span class="hljs-string">&#x27;attributes_args&#x27;</span>, data=attributes_args)
</code></pre>
<p>That&#x27;s it! Now you can create your own <code>.hdf5</code> datasets and start processing them in Orange. Remember, you will need the experimental Orange version from the <em>dask</em> branch: <a href="https://github.com/biolab/orange3/wiki/Orange-with-Dask">see installation instructions</a>.</p></div></div></div></div></div></main><footer class="sc-62144270-0 bhDsrC"><div class="sc-61db3aea-0 eVggRJ"><div class="sc-62144270-1 cLlhlS"><div><h3>Orange</h3><ul><li><a href="/faq/">FAQ</a></li><li><a href="/license/">License</a></li><li><a href="/privacy/">Privacy</a></li><li><a href="/citation/">Citation</a></li><li><a href="/contact/">Contact</a></li></ul></div><div><h3>Download</h3><ul><li><a href="/download/#win">Windows</a></li><li><a href="/download/#mac">Mac OS</a></li></ul></div><div><h3>Community</h3><ul><li><a href="https://twitter.com/OrangeDataMiner">Twitter</a></li><li><a href="https://www.facebook.com/orangedatamining">Facebook</a></li><li><a href="https://datascience.stackexchange.com/questions/tagged/orange">Stack Exchange</a></li><li><a href="https://www.youtube.com/channel/UClKKWBe2SCAEyv7ZNGhIe4g">YouTube</a></li><li><a href="https://discord.com/invite/FWrfeXV">Discord</a></li></ul></div><div><h3>Documentation</h3><ul><li><a href="/getting-started/">Get started</a></li><li><a href="/widget-catalog/">Widgets</a></li><li><a href="https://orange3.readthedocs.io/projects/orange-data-mining-library/en/latest/">Scripting</a></li></ul></div><div><h3>Developers</h3><ul><li><a href="https://github.com/biolab/orange3">GitHub</a></li><li><a href="http://docs.biolab.si/3/development/">Getting started</a></li></ul></div><div><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=A76TAX87ZVR3J" target="_blank" rel="noreferrer" class="sc-b6ea565a-0 jyxOJT">Donate to Orange</a></div></div><p>Copyright © University of Ljubljana</p></div></footer><div class="sc-10517f3d-1 gYCGYz"><div><p>This site uses cookies to improve your experience.</p><div class="sc-10517f3d-0 dHCIcK"><button class="sc-10517f3d-2 cXxltF">Opt out</button><button class="sc-10517f3d-2 cXxltF">Details</button><button class="sc-10517f3d-2 bWKbUu">Understand</button></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontmatter":{"author":"Noah Novšak","date":"2023-10-24","draft":false,"title":"Dask all Folks: Preparing Large Datasets","thumbImage":"2023-10-24-dask-all-folks.png","frontPageImage":"2023-10-24-dask-all-folks.png","blog":["dask","development"],"shortExcerpt":"Preparing large HDF5 datasets that load into Orange as on-disk data.","longExcerpt":"Preparing large HDF5 datasets that load into Orange as on-disk data. This post outlines the specifics of the HDF5 format used by Orange and provides Python code that will help you prepare your own large datasets.","oldUrl":"/blog/2023/2023-10-24-dask-all-folks/"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    code: \"code\",\n    em: \"em\",\n    pre: \"pre\",\n    span: \"span\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Today, we will delve into the exciting world of Dask once again, and explore how to finally bring your own data into Orange. Or, more precisely, into an \", _jsx(_components.a, {\n        href: \"https://github.com/biolab/orange3/wiki/Orange-with-Dask\",\n        children: \"experimental version of Orange that supports Dask\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you've already set up your data as an Orange Table and you would just like to re-encode it to better support dask, then all you have to do is export it again as a \", _jsx(_components.code, {\n        children: \".hdf5\"\n      }), \" file. This is done either with the \", _jsx(_components.em, {\n        children: \"Save Data\"\n      }), \" widget (choose \\\"Orange on-disk data\\\" as the file type) or in \", _jsx(_components.em, {\n        children: \"python\"\n      }), \" like so:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-python\",\n        children: [\"table = Table(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'my_data.tab'\"\n        }), \")\\ntable.save(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'my_data.hdf5'\"\n        }), \")\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Simple as that, end of blog, see you next time!\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Well, not quite. For everyone that has a bunch of data in some other format, it's not quite as simple. So here's a short guide on preparing your data for Orange.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"First of all I'll assume your data can be read in python into something resembling a \", _jsx(_components.a, {\n        href: \"https://numpy.org/\",\n        children: \"numpy\"\n      }), \" array. If that is not the case, your first step will be to make it so. Next, in addition to the array you will also need to make a \", _jsx(_components.em, {\n        children: \"domain\"\n      }), \" for your data. That is where we store all the extra information that describes the contents of your data (feature names, types, target variables, etc.).\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-python\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-meta\",\n          children: \"\u003e\u003e\u003e \"\n        }), \"table = Table(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'heart_disease'\"\n        }), \")\\n\", _jsx(_components.span, {\n          className: \"hljs-meta\",\n          children: \"\u003e\u003e\u003e \"\n        }), \"table.domain.attributes\\n(ContinuousVariable(name=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'age'\"\n        }), \", number_of_decimals=\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"0\"\n        }), \"),\\n DiscreteVariable(name=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'gender'\"\n        }), \", values=(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'female'\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'male'\"\n        }), \")),\\n...\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Usually in a \", _jsx(_components.code, {\n        children: \".csv\"\n      }), \" or \", _jsx(_components.code, {\n        children: \".tab\"\n      }), \" file we would write this information in the header (the first or first three rows). But the \", _jsx(_components.a, {\n        href: \"https://www.hdfgroup.org/solutions/hdf5\",\n        children: \"HDF5\"\n      }), \" format is somewhat different. It is very flexible and allows information to be stored in many different ways. So we've had to come up with a consistent way to save this information that is as true to the internal structure of our table a possible and simple to implement even outside orange. What we've settled on (depicted in the diagram below) is to make separate arrays to store the raw data, and an extra group to hold the additional information.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"hljs language-html\",\n        children: \"├── X (Data)\\n├── Y (Class Data)\\n├── metas (Meta Data)\\n│   ├── 0 (Column 1)\\n│   ├── 1 (Column 2)\\n│   └── ... (Additional columns)\\n└── domain\\n    ├── attributes/class_vars/metas (Domain)\\n    └── attributes_args/class_vars_args/metas_args (Optional)\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now let's try to apply this idea on an actual dataset! The simplest approach is to use a library like \", _jsx(_components.a, {\n        href: \"https://www.h5py.org/\",\n        children: \"h5py\"\n      }), \", this way it boils down to just a couple lines of code. First we can save our data arrays, (note that due to data types the \", _jsx(_components.em, {\n        children: \"metas\"\n      }), \" array is split up and saved by columns).\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-python\",\n        children: [_jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"with\"\n        }), \" h5py.File(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'my_data.hdf5'\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'w'\"\n        }), \") \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" f:\\n    f.create_dataset(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'X'\"\n        }), \", data=x_array)\\n    f.create_dataset(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'Y'\"\n        }), \", data=y_array)\\n    \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"for\"\n        }), \" i \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"in\"\n        }), \" data_metas.shape[\", _jsx(_components.span, {\n          className: \"hljs-number\",\n          children: \"1\"\n        }), \"]:\\n        f.create_dataset(\", _jsxs(_components.span, {\n          className: \"hljs-string\",\n          children: [\"f'metas/\", _jsx(_components.span, {\n            className: \"hljs-subst\",\n            children: \"{i}\"\n          }), \"'\"]\n        }), \", data=metas_array[:, i])\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The next step is to make and store our domain. We'll have to make separate arrays for each of our attributes, class variables and meta attributes, and save them with the appropriate names. These 'domain' arrays should consist of two columns, indicating the name and type of each feature (each row representing one column of data).\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-python\",\n        children: [\"attributes = np.array(\\n    [[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'age'\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'c'\"\n        }), \"], \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# ContinuousVariable(name='age')\"\n        }), \"\\n     [\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'gender'\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'d'\"\n        }), \"], \", _jsx(_components.span, {\n          className: \"hljs-comment\",\n          children: \"# DiscreteVariable(name='gender')\"\n        }), \"\\n     ...],\\n    dtype=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'S'\"\n        }), \"\\n)\\nclass_vars = ...\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"with\"\n        }), \" h5py.File(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'my_data.hdf5'\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'r+'\"\n        }), \") \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" f:\\n    domain = f.create_group(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'domain'\"\n        }), \")\\n    domain.create_dataset(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'attributes'\"\n        }), \", data=attributes)\\n    domain.creat_dataset(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'class_vars'\"\n        }), \", data=class_vars)\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Remember the \", _jsx(_components.em, {\n        children: \"heart-disease\"\n      }), \" table from the example above? Well you can see that the domain contains a little bit more than just the name and type of variables. Continuous variables can specify how accurate they are and discrete variables can also represent non-numeric data by specifying values. These parameters can be saved in our domain in seperate (optional) arrays. Because this additional information can be quite complex and varied though, we decided the most reasonable way to save them is to use \", _jsx(_components.a, {\n        href: \"https://www.json.org/json-en.html\",\n        children: \"json\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"hljs language-python\",\n        children: [\"attributes_args = np.array(\\n    [[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'{number_of_decimals: 0}'\"\n        }), \"],\\n     [\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'{values: (\\\"female\\\", \\\"male\\\")}'\"\n        }), \"],\\n     ...],\\n    dtype=\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'S'\"\n        }), \"\\n)\\n\", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"with\"\n        }), \" h5py.File(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'my_data.hdf5'\"\n        }), \", \", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'r+'\"\n        }), \") \", _jsx(_components.span, {\n          className: \"hljs-keyword\",\n          children: \"as\"\n        }), \" f:\\n    domain = f[\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'domain'\"\n        }), \"]\\n    domain.create_dataset(\", _jsx(_components.span, {\n          className: \"hljs-string\",\n          children: \"'attributes_args'\"\n        }), \", data=attributes_args)\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"That's it! Now you can create your own \", _jsx(_components.code, {\n        children: \".hdf5\"\n      }), \" datasets and start processing them in Orange. Remember, you will need the experimental Orange version from the \", _jsx(_components.em, {\n        children: \"dask\"\n      }), \" branch: \", _jsx(_components.a, {\n        href: \"https://github.com/biolab/orange3/wiki/Orange-with-Dask\",\n        children: \"see installation instructions\"\n      }), \".\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}},"thumbImage":{"width":726,"height":416,"src":"/blog/2023-10-dask-all-folks/__optimized-images__/2023-10-24-dask-all-folks.png"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"dask-all-folks-preparing-large-datasets"},"buildId":"luKyl1p3VEilTReSc9GQ_","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>