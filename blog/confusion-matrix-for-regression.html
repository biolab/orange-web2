<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Orange Data Mining</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/media/0ac14a3c407fb3c4-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/fc6fba7ce0876fef-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/3cc61a2a1d48cb85-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/b49f75c2c957040b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b49f75c2c957040b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/4ac7ed34d61ef456.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4ac7ed34d61ef456.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-d38be8d96a62f950.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-321f842b3cd96ae0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e26fd447a40ef9cf.js" defer=""></script><script src="/_next/static/chunks/815-30d73934dc079aab.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-d1b0abb54e4b7362.js" defer=""></script><script src="/_next/static/JCfB3PYZ2vitmoUGLY4Kr/_buildManifest.js" defer=""></script><script src="/_next/static/JCfB3PYZ2vitmoUGLY4Kr/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.6">.jdkRvx{position:relative;max-width:1296px;margin-right:auto;margin-left:auto;padding-left:72px;padding-right:72px;height:100%;box-sizing:content-box;}/*!sc*/
@media (max-width:1130px){.jdkRvx{padding-left:30px;padding-right:30px;}}/*!sc*/
@media (max-width:720px){.jdkRvx{padding-left:15px;padding-right:15px;}}/*!sc*/
.cEqOpi{position:relative;max-width:1296px;margin-right:auto;margin-left:auto;padding-left:72px;padding-right:72px;height:100%;box-sizing:content-box;max-width:714px;}/*!sc*/
@media (max-width:1130px){.cEqOpi{padding-left:30px;padding-right:30px;}}/*!sc*/
@media (max-width:720px){.cEqOpi{padding-left:15px;padding-right:15px;}}/*!sc*/
data-styled.g1[id="sc-4a52f100-0"]{content:"jdkRvx,cEqOpi,"}/*!sc*/
.fYoBKL{position:relative;display:inline-block;max-width:100%;font-size:20px;line-height:1.25;font-weight:600;-webkit-text-decoration:none;text-decoration:none;color:#fff;padding:10px 15px;border-radius:5px;background-image:linear-gradient(180deg,#FE7A00 74.93%,#F65D18 100%);box-shadow:0px 10px 10px rgba(0,0,0,0.03);background-size:100%;cursor:pointer;z-index:2;}/*!sc*/
.fYoBKL:before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;background-image:linear-gradient(180deg,#ffbc44 100%,#FE7A00 100%);opacity:0;z-index:-100;-webkit-transition:opacity 0.45s;transition:opacity 0.45s;}/*!sc*/
.fYoBKL:hover{color:#fff;}/*!sc*/
.fYoBKL:hover:before{opacity:1;}/*!sc*/
data-styled.g2[id="sc-e429b959-0"]{content:"fYoBKL,"}/*!sc*/
.ikuqzB{background:#1F1F1F;padding:38px 0 25px;color:#fff;}/*!sc*/
data-styled.g3[id="sc-7afe78da-0"]{content:"ikuqzB,"}/*!sc*/
.hrSlzr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-column-gap:80px;column-gap:80px;row-gap:40px;margin-bottom:40px;}/*!sc*/
.hrSlzr h3{font-size:16px;font-weight:600;margin-bottom:12px;}/*!sc*/
.hrSlzr li + li{margin-top:12px;}/*!sc*/
data-styled.g4[id="sc-7afe78da-1"]{content:"hrSlzr,"}/*!sc*/
.eWdALT{display:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:44px;height:34px;padding:6px;border-radius:5px;border:none;background:linear-gradient(180deg,#FE7A00 74.93%,#F65D18 100%);box-shadow:0px 10px 10px rgba(0,0,0,0.03);cursor:pointer;margin-left:auto;}/*!sc*/
@media (max-width:920px){.eWdALT{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
.eWdALT div{width:22px;height:2px;background:#fff;-webkit-transform-origin:1px;-ms-transform-origin:1px;transform-origin:1px;-webkit-transition:all 0.3s linear;transition:all 0.3s linear;}/*!sc*/
data-styled.g5[id="sc-46d6b9d9-0"]{content:"eWdALT,"}/*!sc*/
.jTcDmc{-webkit-clip:rect(0 0 0 0);clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;}/*!sc*/
data-styled.g6[id="sc-cdea7863-0"]{content:"jTcDmc,"}/*!sc*/
.kzEZXJ{position:fixed;top:0;left:0;width:100%;height:80px;z-index:5;background:#fff;box-shadow:0px 4px 10px 4px rgba(0,0,0,0.04);}/*!sc*/
data-styled.g7[id="sc-f2146ecb-0"]{content:"kzEZXJ,"}/*!sc*/
.fBPfPh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}/*!sc*/
.fBPfPh .img-logo{width:115px;margin-top:18px;}/*!sc*/
data-styled.g8[id="sc-f2146ecb-1"]{content:"fBPfPh,"}/*!sc*/
.uyBkV{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:920px){.uyBkV{display:block;position:absolute;top:80px;left:0;width:100%;z-index:1;padding:0 30px 30px;background-color:#fff;opacity:0;z-index:-9999;pointer-events:none;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;box-shadow:0 4px 10px -1px rgba(0,0,0,0.04);}}/*!sc*/
@media (max-width:720px){.uyBkV{padding:0 15px 15px;}}/*!sc*/
data-styled.g9[id="sc-f2146ecb-2"]{content:"uyBkV,"}/*!sc*/
.hdARHE{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:920px){.hdARHE{display:block;margin-bottom:15px;}}/*!sc*/
.hdARHE li + li{margin-left:26px;}/*!sc*/
@media (max-width:920px){.hdARHE li + li{margin-left:0;}}/*!sc*/
.hdARHE a{display:inline-block;font-size:1.25rem;line-height:1;color:#000000;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.3s;transition:color 0.3s;}/*!sc*/
.hdARHE a:hover{color:#FE7A00;}/*!sc*/
@media (max-width:920px){.hdARHE a{padding:8px 0;}}/*!sc*/
data-styled.g10[id="sc-f2146ecb-3"]{content:"hdARHE,"}/*!sc*/
.dJsZoP{position:relative;width:160px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:width 0.3s ease-in-out;transition:width 0.3s ease-in-out;margin-left:26px;}/*!sc*/
@media (max-width:920px){.dJsZoP{width:auto;margin-left:0;}}/*!sc*/
data-styled.g11[id="sc-f2146ecb-4"]{content:"dJsZoP,"}/*!sc*/
.liGudk{display:inline-block;position:absolute;top:0;right:42px;width:calc(100% - 42px);height:100%;font-size:16px;line-height:1.25;padding:10px 13px;background:#fff;border-radius:5px 0px 0px 5px;border:1px solid #D9D9D9;border-right:none;-webkit-transition:width 0.3s ease-in-out;transition:width 0.3s ease-in-out;}/*!sc*/
@media (max-width:920px){.liGudk{display:none;}}/*!sc*/
.liGudk::-webkit-input-placeholder{color:#D9D9D9;}/*!sc*/
.liGudk::-moz-placeholder{color:#D9D9D9;}/*!sc*/
.liGudk:-ms-input-placeholder{color:#D9D9D9;}/*!sc*/
.liGudk::placeholder{color:#D9D9D9;}/*!sc*/
data-styled.g12[id="sc-f2146ecb-5"]{content:"liGudk,"}/*!sc*/
.dfDKLD{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#fff;margin-left:auto;-webkit-flex:0 0 42px;-ms-flex:0 0 42px;flex:0 0 42px;height:41px;border:1px solid #474747;border-radius:0px 5px 5px 0px;background-color:#474747;}/*!sc*/
@media (max-width:920px){.dfDKLD{margin-left:0;}}/*!sc*/
data-styled.g13[id="sc-f2146ecb-6"]{content:"dfDKLD,"}/*!sc*/
*,*:before,*:after{box-sizing:border-box;-webkit-font-smoothing:antialiased;}/*!sc*/
html,body{height:100%;margin:0;}/*!sc*/
html{font-family:'Source Sans Pro',sans-serif;font-weight:400;color:#000000;}/*!sc*/
body{background:#fff;}/*!sc*/
body,h1,h2,h3,h4,h5,h6,p,ol,ul{margin:0;padding:0;font-weight:normal;}/*!sc*/
main{padding-top:80px;}/*!sc*/
ol,ul{list-style:none;}/*!sc*/
figure{margin:0;}/*!sc*/
img,video{display:block;max-width:100%;height:auto;}/*!sc*/
a{color:unset;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
a:hover{color:unset;}/*!sc*/
strong{font-weight:600;}/*!sc*/
pre{display:block;padding:9.5px;margin:0 0 10px;font-size:13px;line-height:1.42857143;word-break:break-all;word-wrap:break-word;color:#333;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px;overflow-x:auto;word-wrap:normal;}/*!sc*/
pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0;}/*!sc*/
code{font-family:Menlo,Monaco,Consolas,"Courier New",monospace;padding:2px 4px;font-size:90%;color:#c7254e;background-color:#f9f2f4;white-space:nowrap;border-radius:4px;}/*!sc*/
::selection{background-color:#FE7A00;color:#fff;}/*!sc*/
.lg-container .lg-backdrop.in{opacity:0.75;}/*!sc*/
.lg-container .lg-toolbar.lg-group,.lg-container .lg-outer .lg-thumb-outer{background:rgba(0,0,0,0.45);}/*!sc*/
data-styled.g14[id="sc-global-giOhfE1"]{content:"sc-global-giOhfE1,"}/*!sc*/
.cXdfZy{font-size:62px;line-height:1.04;font-weight:700;color:#fff;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.cXdfZy{font-size:50px;}}/*!sc*/
@media (max-width:720px){.cXdfZy{font-size:42px;}}/*!sc*/
data-styled.g15[id="sc-4d34df46-0"]{content:"cXdfZy,"}/*!sc*/
.jHVHUC{display:block;margin-left:auto;margin-right:auto;}/*!sc*/
data-styled.g18[id="sc-2868d811-0"]{content:"jHVHUC,"}/*!sc*/
.bfbwVt{padding:80px 0;}/*!sc*/
@media (max-width:920px){.bfbwVt{padding:60px 0;}}/*!sc*/
@media (max-width:720px){.bfbwVt{padding:40px 0;}}/*!sc*/
data-styled.g20[id="sc-f66fe9f6-0"]{content:"bfbwVt,"}/*!sc*/
.eLKbZI{margin-bottom:30px;}/*!sc*/
data-styled.g21[id="sc-f66fe9f6-1"]{content:"eLKbZI,"}/*!sc*/
.dwviVl{position:relative;}/*!sc*/
data-styled.g22[id="sc-f66fe9f6-2"]{content:"dwviVl,"}/*!sc*/
.ejMiWd{position:absolute;top:0;right:100%;width:200px;margin-right:50px;text-align:right;}/*!sc*/
@media (max-width:1130px){.ejMiWd{position:unset;width:auto;text-align:left;margin:0 0 30px 0;}}/*!sc*/
data-styled.g23[id="sc-f66fe9f6-3"]{content:"ejMiWd,"}/*!sc*/
.eZrFWK{font-size:20px;line-height:1.25;color:#1F1F1F;color:#837FEB;}/*!sc*/
@media (max-width:920px){.eZrFWK{font-size:18px;}}/*!sc*/
.gSSqin{font-size:20px;line-height:1.25;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.gSSqin{font-size:18px;}}/*!sc*/
data-styled.g24[id="sc-f66fe9f6-4"]{content:"eZrFWK,gSSqin,"}/*!sc*/
.dmyUgY h1{font-size:44px;line-height:1.13;font-weight:700;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dmyUgY h1{font-size:38px;}}/*!sc*/
@media (max-width:720px){.dmyUgY h1{font-size:32px;}}/*!sc*/
.dmyUgY h2{font-size:33px;line-height:1.13;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dmyUgY h2{font-size:30px;}}/*!sc*/
@media (max-width:720px){.dmyUgY h2{font-size:26px;}}/*!sc*/
.dmyUgY h3{font-size:28px;line-height:1.18;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.dmyUgY h3{font-size:26px;}}/*!sc*/
@media (max-width:720px){.dmyUgY h3{font-size:24px;}}/*!sc*/
.dmyUgY h4{font-size:22px;line-height:1.18;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:720px){.dmyUgY h4{font-size:20px;}}/*!sc*/
.dmyUgY p{font-size:22px;line-height:1.36;color:#1F1F1F;}/*!sc*/
@media (max-width:1130px){.dmyUgY p{font-size:20px;}}/*!sc*/
@media (max-width:920px){.dmyUgY p{font-size:18px;}}/*!sc*/
.dmyUgY ul,.dmyUgY ol{padding-left:40px;}/*!sc*/
.dmyUgY ul li,.dmyUgY ol li{font-size:22px;line-height:1.36;color:#1F1F1F;}/*!sc*/
@media (max-width:1130px){.dmyUgY ul li,.dmyUgY ol li{font-size:20px;}}/*!sc*/
@media (max-width:920px){.dmyUgY ul li,.dmyUgY ol li{font-size:18px;}}/*!sc*/
.dmyUgY ul li + li,.dmyUgY ol li + li{margin-top:4px;}/*!sc*/
.dmyUgY ul{list-style:disc;}/*!sc*/
.dmyUgY ol{list-style:decimal;}/*!sc*/
.dmyUgY p a,.dmyUgY li a{color:#FE7A00;}/*!sc*/
.dmyUgY p a:hover,.dmyUgY li a:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.dmyUgY * + *:not(li,a){margin-top:15px;}/*!sc*/
.dmyUgY * + a[data-gallery],.dmyUgY * + video{margin-top:40px;}/*!sc*/
.dmyUgY a[data-gallery]{display:block;margin-bottom:40px;}/*!sc*/
.dmyUgY iframe,.dmyUgY video{margin-bottom:40px;}/*!sc*/
data-styled.g25[id="sc-f66fe9f6-5"]{content:"dmyUgY,"}/*!sc*/
</style></head><body><div id="__next"><div class="__className_ac89ad"><nav class="sc-f2146ecb-0 kzEZXJ"><div class="sc-4a52f100-0 jdkRvx"><div class="sc-f2146ecb-1 fBPfPh"><a href="/"><img alt="Orange Logo" loading="lazy" width="120" height="35" decoding="async" data-nimg="1" class="img-logo" style="color:transparent" src="/_next/static/media/logo-orange.faff1861.svg"/></a><div><button aria-label="Toggle navigation" class="sc-46d6b9d9-0 eWdALT"><div></div><div></div><div></div></button><div class="sc-f2146ecb-2 uyBkV"><ul class="sc-f2146ecb-3 hdARHE"><li><a href="/workflows">Workflows</a></li><li><a href="/download">Download</a></li><li><a href="/blog">Blog</a></li><li><a href="/docs">Docs</a></li><li><a href="/workshops">Workshops</a></li></ul><form class="sc-f2146ecb-4 dJsZoP"><input type="text" placeholder="Search" class="sc-f2146ecb-5 liGudk" value=""/><button type="submit" class="sc-f2146ecb-6 dfDKLD"><img alt="Icon for search" loading="lazy" width="18" height="17" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/icon-search.459b2665.svg"/><span class="sc-cdea7863-0 jTcDmc">Search through page</span></button></form></div></div></div></div></nav><main><div class="sc-f66fe9f6-0 bfbwVt"><div class="sc-4a52f100-0 cEqOpi"><div class="sc-f66fe9f6-1 eLKbZI"><p class="sc-f66fe9f6-4 eZrFWK"><strong>Statičen izpis!</strong></p><h1 class="sc-4d34df46-0 cXdfZy">Confusion matrix for regression?</h1></div><div class="sc-f66fe9f6-2 dwviVl"><div class="sc-f66fe9f6-3 ejMiWd"><p class="sc-f66fe9f6-4 gSSqin"><strong>Marko Statičen</strong></p><p class="sc-f66fe9f6-4 gSSqin">Nov 14, 2022</p></div><div class="sc-f66fe9f6-5 dmyUgY"><div class="lg-react-element "><p>It is easy to inspect misclassifications in the Confusion Matrix widget when building classification models. One can even click on misclassified instances, output them and observe them in various visualizations. But what about regression? Predicting numeric values doesn&#x27;t even allow connecting Confusion Matrix, nor would it make sense. So how can one inspect prediction error for regression tasks?</p>
<p>Let us take the well-known <em>housing</em> data set from the File widget. The dataset has 506 instances of houses described with 13 variables and a regression target variable MEDV (median value of homes in 1000$).</p>
<p>We can quickly build a simple workflow with Test and Score and Linear Regression, which estimates model accuracy and outputs predictions.</p>
<a href="/blog/2022-05-regression-results/__webp-images__/2022-05-20_workflow1.webp" data-gallery="true"><img alt="" loading="lazy" width="596" height="324" decoding="async" data-nimg="1" style="color:transparent" src="/blog/2022-05-regression-results/__webp-images__/2022-05-20_workflow1.webp"/></a>
<p>Looking at predictions in a Data Table, we can see the true value in the grey column (MEDV) and the predicted value in the beige column (Linear Regression). But it is nigh impossible to extract any meaningful information just by looking at true and predicted values in a table. A visualization would be nice.</p>
<a href="/blog/2022-05-regression-results/__webp-images__/2022-05-20_data-table.webp" data-gallery="true"><img alt="" loading="lazy" width="662" height="493" decoding="async" data-nimg="1" class="sc-2868d811-0 jHVHUC" style="color:transparent" src="/blog/2022-05-regression-results/__webp-images__/2022-05-20_data-table.webp"/></a>
<p>Let us connect Feature Constructor to Test and Score. We will create two new variables in the Feature Constructor, both numeric. Click on <em>New</em> --&gt; <em>Numeric</em>, give it a name, say <em>Error</em> and define the function for computing the prediction error. We will pass it a simple subtraction <code>Linear_Regression-MEDV</code>, which subtracts the true value from the predicted value. In this way, we will get negative values for underpredicted instances and positive values for overpredicted instances.</p>
<p>For a more in-depth inspection, create a variable <em>Abs Error</em>, computing the absolute error with <code>abs(Linear_Regression-MEDV)</code>.</p>
<a href="/blog/2022-05-regression-results/__webp-images__/2022-05-20_feat-const.webp" data-gallery="true"><img alt="" loading="lazy" width="851" height="396" decoding="async" data-nimg="1" class="sc-2868d811-0 jHVHUC" style="color:transparent" src="/blog/2022-05-regression-results/__webp-images__/2022-05-20_feat-const.webp"/></a>
<p>Now, we can inspect the predictions in a Scatter Plot. Set <strong>MEDV</strong> for x-axis and <strong>Linear Regression</strong> for y-axis. Color by <strong>Error</strong> and set the size to <strong>Abs Error</strong>. Since we are using simple linear regression, the results are more or less as expected. Everything above the imaginary regression line will be colored yellow (overprediction) and below it blue (underpredictions). The larger the point, the larger the prediction error. We can see some strange predictions in the top right corner of the plot. We can select them and inspect them downstream.</p>
<a href="/blog/2022-05-regression-results/__webp-images__/2022-05-20_scatter-plot.webp" data-gallery="true"><img alt="" loading="lazy" width="1080" height="718" decoding="async" data-nimg="1" class="sc-2868d811-0 jHVHUC" style="color:transparent" src="/blog/2022-05-regression-results/__webp-images__/2022-05-20_scatter-plot.webp"/></a>
<p>Alternatively, we can observe the absolute error in the feature space. Let us select <strong>LSTAT</strong> and <strong>RM</strong> variables in the scatter plot. Now, color by <strong>Abs Error</strong> and set the same variable for size. We can observe two correlated variables (LSTAT and RM) and inspect where the failed predictions lie. They are more frequent in the lower and higher LSTAT values.</p>
<a href="/blog/2022-05-regression-results/__webp-images__/2022-05-20_scatter-plot2.webp" data-gallery="true"><img alt="" loading="lazy" width="1085" height="721" decoding="async" data-nimg="1" class="sc-2868d811-0 jHVHUC" style="color:transparent" src="/blog/2022-05-regression-results/__webp-images__/2022-05-20_scatter-plot2.webp"/></a>
<p>Now you have no more excuses not to check prediction errors for regression tasks! :)</p>
<a href="/blog/2022-05-regression-results/__webp-images__/2022-05-20_workflow2.webp" data-gallery="true"><img alt="" loading="lazy" width="708" height="242" decoding="async" data-nimg="1" class="sc-2868d811-0 jHVHUC" style="color:transparent" src="/blog/2022-05-regression-results/__webp-images__/2022-05-20_workflow2.webp"/></a></div></div></div></div></div></main><footer class="sc-7afe78da-0 ikuqzB"><div class="sc-4a52f100-0 jdkRvx"><div class="sc-7afe78da-1 hrSlzr"><div><h3>Orange</h3><ul><li><a href="/faq">FAQ</a></li><li><a href="/license">License</a></li><li><a href="/privacy">Privacy</a></li><li><a href="/citation">Citation</a></li><li><a href="/contact">Contact</a></li></ul></div><div><h3>Download</h3><ul><li><a href="/download#win">Windows</a></li><li><a href="/download#mac">Mac OS</a></li></ul></div><div><h3>Community</h3><ul><li><a href="https://twitter.com/OrangeDataMiner">Twitter</a></li><li><a href="https://www.facebook.com/orangedatamining">Facebook</a></li><li><a href="https://datascience.stackexchange.com/questions/tagged/orange">Stack Exchange</a></li><li><a href="https://www.youtube.com/channel/UClKKWBe2SCAEyv7ZNGhIe4g">YouTube</a></li><li><a href="https://discord.com/invite/FWrfeXV">Discord</a></li></ul></div><div><h3>Documentation</h3><ul><li><a href="/getting-started">Get started</a></li><li><a href="/widget-catalogue">Widgets</a></li><li><a href="https://orange3.readthedocs.io/projects/orange-data-mining-library/en/latest/">Scripting</a></li></ul></div><div><h3>Developers</h3><ul><li><a href="https://github.com/biolab/orange3">GitHub</a></li><li><a href="http://docs.biolab.si/3/development/">Getting started</a></li></ul></div><div><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=A76TAX87ZVR3J" target="_blank" rel="noreferrer" class="sc-e429b959-0 fYoBKL">Donate to Orange</a></div></div><p>Copyright © University of Ljubljana</p></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"author":"Ajda Pretnar Žagar","date":"2022-05-20","draft":false,"title":"Confusion matrix for regression?","type":"blog","thumbImage":"2022-05-20-cf-regression.png","frontPageImage":"2022-05-20-cf-regression.png","blog":["regression","confusion matrix","scatter plot","prediction error"],"shortExcerpt":"How to display regression error in Orange?","longExcerpt":"Confusion matrix shows classification error, but what is a suitable alternative for observing regression errors in Orange?","x2images":true},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    em: \"em\",\n    code: \"code\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components), {Figure, WindowScreenshot} = _components;\n  if (!Figure) _missingMdxReference(\"Figure\", true);\n  if (!WindowScreenshot) _missingMdxReference(\"WindowScreenshot\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"It is easy to inspect misclassifications in the Confusion Matrix widget when building classification models. One can even click on misclassified instances, output them and observe them in various visualizations. But what about regression? Predicting numeric values doesn't even allow connecting Confusion Matrix, nor would it make sense. So how can one inspect prediction error for regression tasks?\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Let us take the well-known \", _jsx(_components.em, {\n        children: \"housing\"\n      }), \" data set from the File widget. The dataset has 506 instances of houses described with 13 variables and a regression target variable MEDV (median value of homes in 1000$).\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We can quickly build a simple workflow with Test and Score and Linear Regression, which estimates model accuracy and outputs predictions.\"\n    }), \"\\n\", _jsx(Figure, {\n      src: \"/blog/2022-05-regression-results/2022-05-20_workflow1.png\",\n      src: \"10%\",\n      width: \"596\",\n      height: \"324\",\n      src: \"/blog/2022-05-regression-results/__webp-images__/2022-05-20_workflow1.webp\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Looking at predictions in a Data Table, we can see the true value in the grey column (MEDV) and the predicted value in the beige column (Linear Regression). But it is nigh impossible to extract any meaningful information just by looking at true and predicted values in a table. A visualization would be nice.\"\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2022-05-regression-results/2022-05-20_data-table.png\",\n      width: \"662\",\n      height: \"493\",\n      src: \"/blog/2022-05-regression-results/__webp-images__/2022-05-20_data-table.webp\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Let us connect Feature Constructor to Test and Score. We will create two new variables in the Feature Constructor, both numeric. Click on \", _jsx(_components.em, {\n        children: \"New\"\n      }), \" --\u003e \", _jsx(_components.em, {\n        children: \"Numeric\"\n      }), \", give it a name, say \", _jsx(_components.em, {\n        children: \"Error\"\n      }), \" and define the function for computing the prediction error. We will pass it a simple subtraction \", _jsx(_components.code, {\n        children: \"Linear_Regression-MEDV\"\n      }), \", which subtracts the true value from the predicted value. In this way, we will get negative values for underpredicted instances and positive values for overpredicted instances.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For a more in-depth inspection, create a variable \", _jsx(_components.em, {\n        children: \"Abs Error\"\n      }), \", computing the absolute error with \", _jsx(_components.code, {\n        children: \"abs(Linear_Regression-MEDV)\"\n      }), \".\"]\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2022-05-regression-results/2022-05-20_feat-const.png\",\n      width: \"851\",\n      height: \"396\",\n      src: \"/blog/2022-05-regression-results/__webp-images__/2022-05-20_feat-const.webp\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now, we can inspect the predictions in a Scatter Plot. Set \", _jsx(_components.strong, {\n        children: \"MEDV\"\n      }), \" for x-axis and \", _jsx(_components.strong, {\n        children: \"Linear Regression\"\n      }), \" for y-axis. Color by \", _jsx(_components.strong, {\n        children: \"Error\"\n      }), \" and set the size to \", _jsx(_components.strong, {\n        children: \"Abs Error\"\n      }), \". Since we are using simple linear regression, the results are more or less as expected. Everything above the imaginary regression line will be colored yellow (overprediction) and below it blue (underpredictions). The larger the point, the larger the prediction error. We can see some strange predictions in the top right corner of the plot. We can select them and inspect them downstream.\"]\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2022-05-regression-results/2022-05-20_scatter-plot.png\",\n      width: \"1080\",\n      height: \"718\",\n      src: \"/blog/2022-05-regression-results/__webp-images__/2022-05-20_scatter-plot.webp\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Alternatively, we can observe the absolute error in the feature space. Let us select \", _jsx(_components.strong, {\n        children: \"LSTAT\"\n      }), \" and \", _jsx(_components.strong, {\n        children: \"RM\"\n      }), \" variables in the scatter plot. Now, color by \", _jsx(_components.strong, {\n        children: \"Abs Error\"\n      }), \" and set the same variable for size. We can observe two correlated variables (LSTAT and RM) and inspect where the failed predictions lie. They are more frequent in the lower and higher LSTAT values.\"]\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2022-05-regression-results/2022-05-20_scatter-plot2.png\",\n      width: \"1085\",\n      height: \"721\",\n      src: \"/blog/2022-05-regression-results/__webp-images__/2022-05-20_scatter-plot2.webp\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now you have no more excuses not to check prediction errors for regression tasks! :)\"\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2022-05-regression-results/2022-05-20_workflow2.png\",\n      width: \"708\",\n      height: \"242\",\n      src: \"/blog/2022-05-regression-results/__webp-images__/2022-05-20_workflow2.webp\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"confusion-matrix-for-regression"},"buildId":"JCfB3PYZ2vitmoUGLY4Kr","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>