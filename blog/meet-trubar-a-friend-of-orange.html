<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Orange Data Mining</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/media/0ac14a3c407fb3c4-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/fc6fba7ce0876fef-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/3cc61a2a1d48cb85-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/b49f75c2c957040b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b49f75c2c957040b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/4ac7ed34d61ef456.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4ac7ed34d61ef456.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-2df7a8d27de1794c.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-321f842b3cd96ae0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9917334b3f724a11.js" defer=""></script><script src="/_next/static/chunks/815-30d73934dc079aab.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-317e2716681b8fa3.js" defer=""></script><script src="/_next/static/YvzjkC3auVl_W90btJChE/_buildManifest.js" defer=""></script><script src="/_next/static/YvzjkC3auVl_W90btJChE/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.6">.iSNtvJ{position:relative;max-width:1296px;margin-right:auto;margin-left:auto;padding-left:72px;padding-right:72px;height:100%;box-sizing:content-box;}/*!sc*/
@media (max-width:1130px){.iSNtvJ{padding-left:30px;padding-right:30px;}}/*!sc*/
@media (max-width:720px){.iSNtvJ{padding-left:15px;padding-right:15px;}}/*!sc*/
.fJLXpS{position:relative;max-width:1296px;margin-right:auto;margin-left:auto;padding-left:72px;padding-right:72px;height:100%;box-sizing:content-box;max-width:714px;}/*!sc*/
@media (max-width:1130px){.fJLXpS{padding-left:30px;padding-right:30px;}}/*!sc*/
@media (max-width:720px){.fJLXpS{padding-left:15px;padding-right:15px;}}/*!sc*/
data-styled.g1[id="sc-ef15f394-0"]{content:"iSNtvJ,fJLXpS,"}/*!sc*/
.jyxOJT{position:relative;display:inline-block;max-width:100%;font-size:20px;line-height:1.25;font-weight:600;-webkit-text-decoration:none;text-decoration:none;color:#fff;padding:10px 15px;border-radius:5px;background-image:linear-gradient(180deg,#FE7A00 74.93%,#F65D18 100%);box-shadow:0px 10px 10px rgba(0,0,0,0.03);background-size:100%;cursor:pointer;z-index:2;}/*!sc*/
@media (max-width:720px){.jyxOJT{font-size:18px;}}/*!sc*/
.jyxOJT:before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;background-image:linear-gradient(180deg,#ffbc44 100%,#FE7A00 100%);opacity:0;z-index:-100;-webkit-transition:opacity 0.45s;transition:opacity 0.45s;}/*!sc*/
.jyxOJT:hover{color:#fff;}/*!sc*/
.jyxOJT:hover:before{opacity:1;}/*!sc*/
data-styled.g2[id="sc-b6ea565a-0"]{content:"jyxOJT,"}/*!sc*/
.iQtqNS{background:#1F1F1F;padding:38px 0 25px;color:#fff;}/*!sc*/
data-styled.g3[id="sc-c82ca4e2-0"]{content:"iQtqNS,"}/*!sc*/
.iiCJUO{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-column-gap:80px;column-gap:80px;row-gap:40px;margin-bottom:40px;}/*!sc*/
@media (max-width:720px){.iiCJUO{display:grid;grid-template-columns:1fr 1fr;-webkit-column-gap:20px;column-gap:20px;}}/*!sc*/
.iiCJUO h3{font-size:16px;font-weight:600;margin-bottom:12px;}/*!sc*/
.iiCJUO li + li{margin-top:12px;}/*!sc*/
data-styled.g4[id="sc-c82ca4e2-1"]{content:"iiCJUO,"}/*!sc*/
.eWdALT{display:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:44px;height:34px;padding:6px;border-radius:5px;border:none;background:linear-gradient(180deg,#FE7A00 74.93%,#F65D18 100%);box-shadow:0px 10px 10px rgba(0,0,0,0.03);cursor:pointer;margin-left:auto;}/*!sc*/
@media (max-width:920px){.eWdALT{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
.eWdALT div{width:22px;height:2px;background:#fff;-webkit-transform-origin:1px;-ms-transform-origin:1px;transform-origin:1px;-webkit-transition:all 0.3s linear;transition:all 0.3s linear;}/*!sc*/
data-styled.g5[id="sc-46d6b9d9-0"]{content:"eWdALT,"}/*!sc*/
.jTcDmc{-webkit-clip:rect(0 0 0 0);clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;}/*!sc*/
data-styled.g6[id="sc-cdea7863-0"]{content:"jTcDmc,"}/*!sc*/
.gPgccM{position:fixed;top:0;left:0;width:100%;height:80px;z-index:5;background:#fff;box-shadow:0px 4px 10px 4px rgba(0,0,0,0.04);}/*!sc*/
data-styled.g7[id="sc-6852f5f6-0"]{content:"gPgccM,"}/*!sc*/
.jrLPNu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}/*!sc*/
.jrLPNu .img-logo{width:115px;}/*!sc*/
data-styled.g8[id="sc-6852f5f6-1"]{content:"jrLPNu,"}/*!sc*/
.hzGhxs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:920px){.hzGhxs{display:block;position:absolute;top:80px;left:0;width:100%;z-index:1;padding:0 30px 30px;background-color:#fff;opacity:0;z-index:-9999;pointer-events:none;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;box-shadow:0 4px 10px -1px rgba(0,0,0,0.04);}}/*!sc*/
@media (max-width:720px){.hzGhxs{padding:0 15px 15px;}}/*!sc*/
data-styled.g9[id="sc-6852f5f6-2"]{content:"hzGhxs,"}/*!sc*/
.chSgxF{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (max-width:920px){.chSgxF{display:block;margin-bottom:15px;}}/*!sc*/
.chSgxF li + li{margin-left:26px;}/*!sc*/
@media (max-width:920px){.chSgxF li + li{margin-left:0;}}/*!sc*/
.chSgxF a{display:inline-block;font-size:1.25rem;line-height:1;color:#000000;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.3s;transition:color 0.3s;}/*!sc*/
.chSgxF a:hover{color:#FE7A00;}/*!sc*/
@media (max-width:920px){.chSgxF a{padding:8px 0;}}/*!sc*/
data-styled.g10[id="sc-6852f5f6-3"]{content:"chSgxF,"}/*!sc*/
.hTbjmy{position:relative;width:160px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:width 0.3s ease-in-out;transition:width 0.3s ease-in-out;margin-left:26px;}/*!sc*/
@media (max-width:920px){.hTbjmy{width:auto;margin-left:0;}}/*!sc*/
data-styled.g11[id="sc-6852f5f6-4"]{content:"hTbjmy,"}/*!sc*/
.kzOElI{display:inline-block;position:absolute;top:0;right:42px;width:calc(100% - 42px);height:100%;font-size:16px;line-height:1.25;padding:10px 13px;background:#fff;border-radius:5px 0px 0px 5px;border:1px solid #D9D9D9;border-right:none;-webkit-transition:width 0.3s ease-in-out;transition:width 0.3s ease-in-out;}/*!sc*/
@media (max-width:920px){.kzOElI{display:none;}}/*!sc*/
.kzOElI::-webkit-input-placeholder{color:#D9D9D9;}/*!sc*/
.kzOElI::-moz-placeholder{color:#D9D9D9;}/*!sc*/
.kzOElI:-ms-input-placeholder{color:#D9D9D9;}/*!sc*/
.kzOElI::placeholder{color:#D9D9D9;}/*!sc*/
data-styled.g12[id="sc-6852f5f6-5"]{content:"kzOElI,"}/*!sc*/
.dSfmcG{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#fff;margin-left:auto;-webkit-flex:0 0 42px;-ms-flex:0 0 42px;flex:0 0 42px;height:41px;border:1px solid #474747;border-radius:0px 5px 5px 0px;background-color:#474747;}/*!sc*/
@media (max-width:920px){.dSfmcG{margin-left:0;}}/*!sc*/
data-styled.g13[id="sc-6852f5f6-6"]{content:"dSfmcG,"}/*!sc*/
.dIeRP{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
data-styled.g18[id="sc-303bd949-0"]{content:"dIeRP,"}/*!sc*/
*,*:before,*:after{box-sizing:border-box;-webkit-font-smoothing:antialiased;}/*!sc*/
html,body{height:100%;margin:0;}/*!sc*/
html{font-family:'Source Sans Pro',sans-serif;font-weight:400;color:#000000;}/*!sc*/
body{background:#fff;}/*!sc*/
body,h1,h2,h3,h4,h5,h6,p,ol,ul{margin:0;padding:0;font-weight:normal;}/*!sc*/
main{padding-top:80px;-webkit-flex:1;-ms-flex:1;flex:1;}/*!sc*/
ol,ul{list-style:none;}/*!sc*/
figure{margin:0;}/*!sc*/
img,video{display:block;max-width:100%;height:auto;}/*!sc*/
a{color:unset;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
a:hover{color:unset;}/*!sc*/
strong{font-weight:600;}/*!sc*/
pre{display:block;padding:10px 14px;margin:0 0 10px;font-size:18px;line-height:1.42857143;word-break:break-all;word-wrap:break-word;color:#000;background-color:#f5f5f5;border-radius:5px;overflow-x:auto;word-wrap:normal;}/*!sc*/
pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0;}/*!sc*/
code{font-family:Menlo,Monaco,Consolas,"Courier New",monospace;padding:2px 4px;font-size:90%;color:#c7254e;background-color:#f9f2f4;white-space:nowrap;border-radius:4px;white-space:pre-wrap;}/*!sc*/
::selection{background-color:#FE7A00;color:#fff;}/*!sc*/
.lg-container .lg-backdrop.in{opacity:0.75;}/*!sc*/
.lg-container .lg-toolbar.lg-group,.lg-container .lg-outer .lg-thumb-outer{background:rgba(0,0,0,0.45);}/*!sc*/
data-styled.g19[id="sc-global-gFJXlm1"]{content:"sc-global-gFJXlm1,"}/*!sc*/
.cXdfZy{font-size:62px;line-height:1.04;font-weight:700;color:#fff;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.cXdfZy{font-size:50px;}}/*!sc*/
@media (max-width:720px){.cXdfZy{font-size:42px;}}/*!sc*/
data-styled.g20[id="sc-4d34df46-0"]{content:"cXdfZy,"}/*!sc*/
.htQmXI h1{font-size:44px;line-height:1.13;font-weight:700;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.htQmXI h1{font-size:38px;}}/*!sc*/
@media (max-width:720px){.htQmXI h1{font-size:32px;}}/*!sc*/
.htQmXI h2{font-size:33px;line-height:1.13;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.htQmXI h2{font-size:30px;}}/*!sc*/
@media (max-width:720px){.htQmXI h2{font-size:26px;}}/*!sc*/
.htQmXI h3{font-size:28px;line-height:1.18;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.htQmXI h3{font-size:26px;}}/*!sc*/
@media (max-width:720px){.htQmXI h3{font-size:24px;}}/*!sc*/
.htQmXI h4{font-size:22px;line-height:1.18;font-weight:600;color:#1F1F1F;}/*!sc*/
@media (max-width:720px){.htQmXI h4{font-size:20px;}}/*!sc*/
.htQmXI p{font-size:22px;line-height:1.36;color:#1F1F1F;}/*!sc*/
@media (max-width:1130px){.htQmXI p{font-size:20px;}}/*!sc*/
@media (max-width:920px){.htQmXI p{font-size:18px;}}/*!sc*/
.htQmXI ul,.htQmXI ol{padding-left:40px;}/*!sc*/
.htQmXI ul li,.htQmXI ol li{font-size:22px;line-height:1.36;color:#1F1F1F;}/*!sc*/
@media (max-width:1130px){.htQmXI ul li,.htQmXI ol li{font-size:20px;}}/*!sc*/
@media (max-width:920px){.htQmXI ul li,.htQmXI ol li{font-size:18px;}}/*!sc*/
.htQmXI ul li + li,.htQmXI ol li + li{margin-top:4px;}/*!sc*/
.htQmXI ul{list-style:disc;}/*!sc*/
.htQmXI ol{list-style:decimal;}/*!sc*/
.htQmXI p a,.htQmXI li a{color:#FE7A00;}/*!sc*/
.htQmXI p a:hover,.htQmXI li a:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.htQmXI * + *:not(li,a){margin-top:15px;}/*!sc*/
.htQmXI * + a[data-gallery],.htQmXI * + video{margin-top:40px;}/*!sc*/
.htQmXI a[data-gallery]{display:block;margin-bottom:40px;}/*!sc*/
.htQmXI iframe,.htQmXI video{margin-bottom:40px;}/*!sc*/
data-styled.g23[id="sc-b0f3732d-0"]{content:"htQmXI,"}/*!sc*/
.fdCCNC{display:block;margin-left:auto;margin-right:auto;}/*!sc*/
data-styled.g24[id="sc-b0f3732d-1"]{content:"fdCCNC,"}/*!sc*/
.jiUdjB{padding:80px 0;}/*!sc*/
@media (max-width:920px){.jiUdjB{padding:60px 0;}}/*!sc*/
@media (max-width:720px){.jiUdjB{padding:40px 0;}}/*!sc*/
data-styled.g26[id="sc-18ad0c3-0"]{content:"jiUdjB,"}/*!sc*/
.farhVs{margin-bottom:30px;}/*!sc*/
data-styled.g27[id="sc-18ad0c3-1"]{content:"farhVs,"}/*!sc*/
.evzqvZ{position:relative;}/*!sc*/
data-styled.g28[id="sc-18ad0c3-2"]{content:"evzqvZ,"}/*!sc*/
.kwRhph{position:absolute;top:0;right:100%;width:200px;margin-right:50px;text-align:right;}/*!sc*/
@media (max-width:1130px){.kwRhph{position:unset;width:auto;text-align:left;margin:0 0 30px 0;}}/*!sc*/
data-styled.g29[id="sc-18ad0c3-3"]{content:"kwRhph,"}/*!sc*/
.jMsRbj{font-size:20px;line-height:1.25;color:#1F1F1F;text-transform:capitalize;color:#5651EC;}/*!sc*/
@media (max-width:920px){.jMsRbj{font-size:18px;}}/*!sc*/
.cwWTdU{font-size:20px;line-height:1.25;color:#1F1F1F;}/*!sc*/
@media (max-width:920px){.cwWTdU{font-size:18px;}}/*!sc*/
data-styled.g30[id="sc-18ad0c3-4"]{content:"jMsRbj,cwWTdU,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-303bd949-0 dIeRP __className_ac89ad"><nav class="sc-6852f5f6-0 gPgccM"><div class="sc-ef15f394-0 iSNtvJ"><div class="sc-6852f5f6-1 jrLPNu"><a href="/"><img alt="Orange Logo" loading="lazy" width="120" height="35" decoding="async" data-nimg="1" class="img-logo" style="color:transparent" src="/_next/static/media/logo-orange.faff1861.svg"/></a><div><button aria-label="Toggle navigation" class="sc-46d6b9d9-0 eWdALT"><div></div><div></div><div></div></button><div class="sc-6852f5f6-2 hzGhxs"><ul class="sc-6852f5f6-3 chSgxF"><li><a href="/examples">Examples</a></li><li><a href="/download">Download</a></li><li><a href="/blog">Blog</a></li><li><a href="/docs">Docs</a></li><li><a href="/workshops">Workshops</a></li></ul><form class="sc-6852f5f6-4 hTbjmy"><div class="sc-6852f5f6-5 kzOElI">Search</div><button class="sc-6852f5f6-6 dSfmcG"><img alt="Icon for search" loading="lazy" width="18" height="17" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/icon-search.459b2665.svg"/><span class="sc-cdea7863-0 jTcDmc">Search through page</span></button></form></div></div></div></div></nav><main><div class="sc-18ad0c3-0 jiUdjB"><div class="sc-ef15f394-0 fJLXpS"><div class="sc-18ad0c3-1 farhVs"><p class="sc-18ad0c3-4 jMsRbj"><strong>development</strong></p><h1 class="sc-4d34df46-0 cXdfZy">Meet Trubar, a friend of Orange</h1></div><div class="sc-18ad0c3-2 evzqvZ"><div class="sc-18ad0c3-3 kwRhph"><p class="sc-18ad0c3-4 cwWTdU"><strong>Janez Demšar</strong></p><p class="sc-18ad0c3-4 cwWTdU">Jan 17, 2023</p></div><div class="sc-b0f3732d-0 htQmXI"><div class="lg-react-element "><p>Orange has been translated to Slovenian language (no official release yet: rough corners are very much being polished). This will pave the way for translations into other languages.</p>
<a href="/blog/2023-01-trubar/__webp-images__/2023-01-17-table.webp" data-gallery="true"><img alt="" loading="lazy" width="1096" height="1016" decoding="async" data-nimg="1" class="sc-b0f3732d-1 fdCCNC" style="color:transparent" src="/blog/2023-01-trubar/__webp-images__/2023-01-17-table.webp"/></a>
<p>What do we use? Gettext, right? Wrong. Orange is written in modern Python and uses f-strings for string interpolation. They are great, but don&#x27;t play well with gettext.</p>
<h2>Why gettext doesn&#x27;t cut it</h2>
<p>If you&#x27;ve never heard about gettext: <a href="https://www.gnu.org/software/gettext/">gettext</a> is a popular framework for software localization. Developers enclose every string that needs to be translated into a function call that translates it. The function would be called something short, like <code>_</code> or <code>tr</code>. One of gettext&#x27;s utilities extracts all such strings into messages files. Translators provide translations. Messages are compiled into binary form and imported into the program. When function <code>_</code> (or <code>tr</code> or whatever) gets a string, it searches for a translation and returns it.</p>
<p>So in Python, a programmer would write <code>print(tr(&quot;Data contains {n} instances&quot;).format(n)))</code>. Translator would see the message <code>&quot;Data contains {n} instances&quot;</code> and provide a translation, for instance <code>&quot;Podatki vsebujejo {n} primerov.&quot;</code>. After messages are compiled and in their place, the function <code>tr</code> would receive the English message and return the Slovenian translation.</p>
<p>The above example uses the old-style interpolation with <code>format</code>. is does not work for Python&#x27;s f-strings. With f-strings, we would have <code>print(tr(f&quot;Data contains {n} instances&quot;)</code>. The number, <code>n</code>, is interpolated before the function call, so <code>tr</code> already receives the entire string, like <code>&quot;Data contains 1234 instances&quot;</code>. This obviously doesn&#x27;t match any pre-translated messages, because it includes a specific number. Call <code>tr</code> earlier? See, that&#x27;s the thing: you can&#x27;t. There is no such string as <code>&quot;Data contains {n} instances&quot;</code>. It is never &quot;materialized&quot;: in Python&#x27;s abstract syntax tree, these are three distinct elements (a constant <code>&quot;Data contains &quot;</code>, expression <code>n</code>, and a constant <code> instance</code>). At the moment they are joined into an actual object (of type <code>str</code>) that can be passed to some function, the value of <code>n</code> is already interpolated.</p>
<p>Gettext-like approaches thus can&#x27;t work on f-strings. To our knowledge, there is currently no tool to support translation of f-strings.</p>
<p>Luckily, we are programmers.</p>
<h2>Enters Trubar</h2>
<p>We developed Trubar. Named after Primož Trubar (the author of the first Slovenian printed books, Catechismus and Abecedarium, and the first translator of part of the Bible in Slovenian language), Trubar collects all strings from sources and places them into a yaml-like file. There, they can be translated - or marked as strings that must not be translated. Then, Trubar copies the sources, substituting strings with their translations, if provided.</p>
<p>This is a part of the file related to the translation of the Table widget above.</p>
<pre><code class="language-yaml">widgets/data/owtable.py:
    class `OWDataTable`:
        Data Table: Tabela
        icons/Table.svg: false
        class `Inputs`:
            Data: Podatki
        class `Outputs`:
            Selected Data: Izbor podatkov
        def `__init__`:
            Variables: Spremenljivke
            show_attribute_labels: false
            Show variable labels (if present): Pokaži oznake spremenljivk
            show_distributions: false
            Visualize numeric values: Vizualiziraj številske vrednosti
            color_by_class: false
            Color by instance classes: Obarvaj primere glede na razred
            Selection: Izbor
            select_rows: false
            Select full rows: Izbiraj cele vrstice
            Restore Original Order: Izvirni vrstni red
        def `set_dataset`:
            name: false
            Data: Podatki
</code></pre>
<p>If it looks simple, it&#x27;s because <a href="http://janezd.github.io/trubar/getting-started/">it <em>is</em> simple</a>.</p>
<p>Besides working with f-strings, the advantage of Trubar&#x27;s approach is that - unlike gettext - it does not pollute the sources with calls and parentheses. There&#x27;s enough of them already. Instead of marking strings for translation within the source code, they are marked (for non-translation) in the message file. This must be done at some point, but it&#x27;s better to do it in a dedicated place, not in the code.</p>
<p>This of course comes at a cost: unlike with gettext where the user can switch between languages, software translated with Trubar requires a separate distribution for each language. Or packing separate sources for multiple languages into one distribution. Whether this hurts or not, depends upon circumstances.</p>
<h2>What about plural forms?</h2>
<p>You ask that seriously? So you don&#x27;t speak Slovenian, I guess.</p>
<p>See the text &quot;Ni ciljne spremenljivke&quot; in the screenshot? It means &quot;No target variable&quot;. Slovenian language counts like this:</p>
<pre><code>Ni ciljne spremenljivke
Ena ciljna spremenljivka
Dve ciljni spremenljivki
Tri ciljne spremenljivke
Štiri ciljne spremenljivke
Pet ciljnih spremenljivk
...
</code></pre>
<p>and then the same form is used until 101, where we go back to singular, dual, plural, plural and genitive (which is what you see above).</p>
<p>Developed by native speaker of this beautifully complicated Slavic language, Trubar handles it with excellence. The beauty of f-strings is that they make implementation of plural forms much simpler because they allow using arbitrary functions. We simply inserted the appropriate function call and that&#x27;s it. For instances, besides having four plural forms, the translation of proposition &quot;with&quot; before a number depends upon the number, and this is handled simply by using the function that returns the proper former for the given number. Which all happens without any help in the original source.</p>
<p>More about localization in <a href="http://janezd.github.io/trubar/localization/">documentation</a>.</p>
<h2>Ready to use?</h2>
<p>Sure, try it out. Trubar is <a href="https://pypi.org/project/trubar/">pip-installable</a>, <a href="http://janezd.github.io/trubar/">documentation</a> is decent enough and although it is still early in development, we don&#x27;t plan any huge changes. The least we can promise is that its compatibility-breaking changes will give you less headache that those by pyqtgraph. (Though ... this may not be much of a promise. :)</p></div></div></div></div></div></main><footer class="sc-c82ca4e2-0 iQtqNS"><div class="sc-ef15f394-0 iSNtvJ"><div class="sc-c82ca4e2-1 iiCJUO"><div><h3>Orange</h3><ul><li><a href="/faq">FAQ</a></li><li><a href="/license">License</a></li><li><a href="/privacy">Privacy</a></li><li><a href="/citation">Citation</a></li><li><a href="/contact">Contact</a></li></ul></div><div><h3>Download</h3><ul><li><a href="/download#win">Windows</a></li><li><a href="/download#mac">Mac OS</a></li></ul></div><div><h3>Community</h3><ul><li><a href="https://twitter.com/OrangeDataMiner">Twitter</a></li><li><a href="https://www.facebook.com/orangedatamining">Facebook</a></li><li><a href="https://datascience.stackexchange.com/questions/tagged/orange">Stack Exchange</a></li><li><a href="https://www.youtube.com/channel/UClKKWBe2SCAEyv7ZNGhIe4g">YouTube</a></li><li><a href="https://discord.com/invite/FWrfeXV">Discord</a></li></ul></div><div><h3>Documentation</h3><ul><li><a href="/getting-started">Get started</a></li><li><a href="/widget-catalogue">Widgets</a></li><li><a href="https://orange3.readthedocs.io/projects/orange-data-mining-library/en/latest/">Scripting</a></li></ul></div><div><h3>Developers</h3><ul><li><a href="https://github.com/biolab/orange3">GitHub</a></li><li><a href="http://docs.biolab.si/3/development/">Getting started</a></li></ul></div><div><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=A76TAX87ZVR3J" target="_blank" rel="noreferrer" class="sc-b6ea565a-0 jyxOJT">Donate to Orange</a></div></div><p>Copyright © University of Ljubljana</p></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"author":"Janez Demšar","date":"2023-01-17","draft":false,"title":"Meet Trubar, a friend of Orange","thumbImage":"2023-01-20-trubar-brez.png","frontPageImage":"2023-01-20-trubar-brez.png","blog":["development"],"shortExcerpt":"A new, general utility for localization of Python software","longExcerpt":"A new, general utility for localization of Python software, developed for Orange","oldUrl":"/blog/2023/2023-01-17-trubar/"},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    h2: \"h2\",\n    a: \"a\",\n    code: \"code\",\n    pre: \"pre\",\n    em: \"em\"\n  }, _provideComponents(), props.components), {WindowScreenshot} = _components;\n  if (!WindowScreenshot) _missingMdxReference(\"WindowScreenshot\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"Orange has been translated to Slovenian language (no official release yet: rough corners are very much being polished). This will pave the way for translations into other languages.\"\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2023-01-trubar/2023-01-17-table.png\",\n      width: \"1096\",\n      height: \"1016\",\n      src: \"/blog/2023-01-trubar/__webp-images__/2023-01-17-table.webp\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"What do we use? Gettext, right? Wrong. Orange is written in modern Python and uses f-strings for string interpolation. They are great, but don't play well with gettext.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Why gettext doesn't cut it\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you've never heard about gettext: \", _jsx(_components.a, {\n        href: \"https://www.gnu.org/software/gettext/\",\n        children: \"gettext\"\n      }), \" is a popular framework for software localization. Developers enclose every string that needs to be translated into a function call that translates it. The function would be called something short, like \", _jsx(_components.code, {\n        children: \"_\"\n      }), \" or \", _jsx(_components.code, {\n        children: \"tr\"\n      }), \". One of gettext's utilities extracts all such strings into messages files. Translators provide translations. Messages are compiled into binary form and imported into the program. When function \", _jsx(_components.code, {\n        children: \"_\"\n      }), \" (or \", _jsx(_components.code, {\n        children: \"tr\"\n      }), \" or whatever) gets a string, it searches for a translation and returns it.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"So in Python, a programmer would write \", _jsx(_components.code, {\n        children: \"print(tr(\\\"Data contains {n} instances\\\").format(n)))\"\n      }), \". Translator would see the message \", _jsx(_components.code, {\n        children: \"\\\"Data contains {n} instances\\\"\"\n      }), \" and provide a translation, for instance \", _jsx(_components.code, {\n        children: \"\\\"Podatki vsebujejo {n} primerov.\\\"\"\n      }), \". After messages are compiled and in their place, the function \", _jsx(_components.code, {\n        children: \"tr\"\n      }), \" would receive the English message and return the Slovenian translation.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The above example uses the old-style interpolation with \", _jsx(_components.code, {\n        children: \"format\"\n      }), \". is does not work for Python's f-strings. With f-strings, we would have \", _jsx(_components.code, {\n        children: \"print(tr(f\\\"Data contains {n} instances\\\")\"\n      }), \". The number, \", _jsx(_components.code, {\n        children: \"n\"\n      }), \", is interpolated before the function call, so \", _jsx(_components.code, {\n        children: \"tr\"\n      }), \" already receives the entire string, like \", _jsx(_components.code, {\n        children: \"\\\"Data contains 1234 instances\\\"\"\n      }), \". This obviously doesn't match any pre-translated messages, because it includes a specific number. Call \", _jsx(_components.code, {\n        children: \"tr\"\n      }), \" earlier? See, that's the thing: you can't. There is no such string as \", _jsx(_components.code, {\n        children: \"\\\"Data contains {n} instances\\\"\"\n      }), \". It is never \\\"materialized\\\": in Python's abstract syntax tree, these are three distinct elements (a constant \", _jsx(_components.code, {\n        children: \"\\\"Data contains \\\"\"\n      }), \", expression \", _jsx(_components.code, {\n        children: \"n\"\n      }), \", and a constant \", _jsx(_components.code, {\n        children: \" instance\"\n      }), \"). At the moment they are joined into an actual object (of type \", _jsx(_components.code, {\n        children: \"str\"\n      }), \") that can be passed to some function, the value of \", _jsx(_components.code, {\n        children: \"n\"\n      }), \" is already interpolated.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Gettext-like approaches thus can't work on f-strings. To our knowledge, there is currently no tool to support translation of f-strings.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Luckily, we are programmers.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Enters Trubar\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We developed Trubar. Named after Primož Trubar (the author of the first Slovenian printed books, Catechismus and Abecedarium, and the first translator of part of the Bible in Slovenian language), Trubar collects all strings from sources and places them into a yaml-like file. There, they can be translated - or marked as strings that must not be translated. Then, Trubar copies the sources, substituting strings with their translations, if provided.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is a part of the file related to the translation of the Table widget above.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-yaml\",\n        children: \"widgets/data/owtable.py:\\n    class `OWDataTable`:\\n        Data Table: Tabela\\n        icons/Table.svg: false\\n        class `Inputs`:\\n            Data: Podatki\\n        class `Outputs`:\\n            Selected Data: Izbor podatkov\\n        def `__init__`:\\n            Variables: Spremenljivke\\n            show_attribute_labels: false\\n            Show variable labels (if present): Pokaži oznake spremenljivk\\n            show_distributions: false\\n            Visualize numeric values: Vizualiziraj številske vrednosti\\n            color_by_class: false\\n            Color by instance classes: Obarvaj primere glede na razred\\n            Selection: Izbor\\n            select_rows: false\\n            Select full rows: Izbiraj cele vrstice\\n            Restore Original Order: Izvirni vrstni red\\n        def `set_dataset`:\\n            name: false\\n            Data: Podatki\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If it looks simple, it's because \", _jsxs(_components.a, {\n        href: \"http://janezd.github.io/trubar/getting-started/\",\n        children: [\"it \", _jsx(_components.em, {\n          children: \"is\"\n        }), \" simple\"]\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Besides working with f-strings, the advantage of Trubar's approach is that - unlike gettext - it does not pollute the sources with calls and parentheses. There's enough of them already. Instead of marking strings for translation within the source code, they are marked (for non-translation) in the message file. This must be done at some point, but it's better to do it in a dedicated place, not in the code.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This of course comes at a cost: unlike with gettext where the user can switch between languages, software translated with Trubar requires a separate distribution for each language. Or packing separate sources for multiple languages into one distribution. Whether this hurts or not, depends upon circumstances.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"What about plural forms?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You ask that seriously? So you don't speak Slovenian, I guess.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"See the text \\\"Ni ciljne spremenljivke\\\" in the screenshot? It means \\\"No target variable\\\". Slovenian language counts like this:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"Ni ciljne spremenljivke\\nEna ciljna spremenljivka\\nDve ciljni spremenljivki\\nTri ciljne spremenljivke\\nŠtiri ciljne spremenljivke\\nPet ciljnih spremenljivk\\n...\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"and then the same form is used until 101, where we go back to singular, dual, plural, plural and genitive (which is what you see above).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Developed by native speaker of this beautifully complicated Slavic language, Trubar handles it with excellence. The beauty of f-strings is that they make implementation of plural forms much simpler because they allow using arbitrary functions. We simply inserted the appropriate function call and that's it. For instances, besides having four plural forms, the translation of proposition \\\"with\\\" before a number depends upon the number, and this is handled simply by using the function that returns the proper former for the given number. Which all happens without any help in the original source.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"More about localization in \", _jsx(_components.a, {\n        href: \"http://janezd.github.io/trubar/localization/\",\n        children: \"documentation\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Ready to use?\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Sure, try it out. Trubar is \", _jsx(_components.a, {\n        href: \"https://pypi.org/project/trubar/\",\n        children: \"pip-installable\"\n      }), \", \", _jsx(_components.a, {\n        href: \"http://janezd.github.io/trubar/\",\n        children: \"documentation\"\n      }), \" is decent enough and although it is still early in development, we don't plan any huge changes. The least we can promise is that its compatibility-breaking changes will give you less headache that those by pyqtgraph. (Though ... this may not be much of a promise. :)\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"meet-trubar-a-friend-of-orange"},"buildId":"YvzjkC3auVl_W90btJChE","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>