<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-45fae5f2ec2ec297.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-abafce5311b78c60.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c273b30b44d14e75.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-1f63d3b3c40f1c93.js" defer=""></script><script src="/_next/static/ltl2MNmHYj7YPBtRwizDd/_buildManifest.js" defer=""></script><script src="/_next/static/ltl2MNmHYj7YPBtRwizDd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><nav class="navbar__Nav-eBQOKL ibrywS"><ul><a href="/blog">Blog</a></ul><button class="navbar__Burger-iSJTJn hhJHuh">X</button></nav><main><div class="slug__Wrapper-COBE fVNjNN"><h1>Why You Should Use Apply Domain</h1><p>It can happen you&#x27;d see a widget in Orange and think: &quot;What on Earth does this even do?&quot; We admit, finding informative widget names is not always easy and Apply Domain had a least 5 different names so far. While it might not be clear what the widget does from its name, the actual functionality is one of the nicer ones Orange has to offer.</p>
<p>Say you are transforming your data with PCA. There&#x27;s training data and test data (say you expect to get new data at some later point, so we are simulating the split here). For this example, we&#x27;ll be using <em>Wine</em> data from Datasets widget.</p>
<p>Transforming the data with PCA is straightforward. Apply the PCA, select a number of components that cover a solid amount of variance and output the transformed data. We can observe the 2-dimensional PCA plot in Scatter Plot.</p>
<img src="/blog/2021-08-apply-domain/2021-08-13-scatterplot1.png" class="slug__WSImage-fKRhRE eVNOev"/>
<p>Now, let us transform the test data with another PCA, using the same parameters. Use Concatenate to merge all the data points into a single table and plot the points in Scatter Plot. Make sure that <em>Treat variables with the same name as the same variable</em> is checked in Concatenate!</p>
<img src="/blog/2021-08-apply-domain/2021-08-13-workflow1.png" class="slug__WSImage-fKRhRE eVNOev"/>
<img src="/blog/2021-08-apply-domain/2021-08-13-scatterplot2.png" class="slug__WSImage-fKRhRE eVNOev"/>
<p>Scatter plot looks strange. The wine types are mixed up, especially in the lower part of the plot. This is because the test data and the train data were not transformed to the same PCA space.</p>
<p>Enter Apply Domain. The widget uses template data to transform new data to the same domain (essentially the same data space). Connect <em>Transformed Data</em> to Apply Domain as <em>Template Data</em>. And <em>Remaining Data</em> from Data Sampler as <em>Data</em>.</p>
<p>Apply Domain outputs transformed data, which can be once again merged with Concatenate (keep the same settings as before). Now, observe the results in a scatter plot.</p>
<img src="/blog/2021-08-apply-domain/2021-08-13-workflow2.png" class="slug__WSImage-fKRhRE eVNOev"/>
<img src="/blog/2021-08-apply-domain/2021-08-13-scatterplot3.png" class="slug__WSImage-fKRhRE eVNOev"/>
<p>Well, look at that! The data is properly transformed and can be nicely discriminated by wine type in the PCA space!</p></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"author":"Ajda Pretnar","date":"2021-08-13","draft":false,"title":"Why You Should Use Apply Domain","type":"blog","thumbImage":"2021-08-13-applydomain.png","frontPageImage":"2021-08-13-applydomain.png","blog":["domain","PCA","transformation","apply domain"],"shortExcerpt":"Apply Domain is a mystery widget with an amazing functionality.","longExcerpt":"What does Apply Domain even do? Actually, it is an extremely useful widget for all your data transformation problems!","x2images":true},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    em: \"em\"\n  }, _provideComponents(), props.components), {WindowScreenshot} = _components;\n  if (!WindowScreenshot) _missingMdxReference(\"WindowScreenshot\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"It can happen you'd see a widget in Orange and think: \\\"What on Earth does this even do?\\\" We admit, finding informative widget names is not always easy and Apply Domain had a least 5 different names so far. While it might not be clear what the widget does from its name, the actual functionality is one of the nicer ones Orange has to offer.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Say you are transforming your data with PCA. There's training data and test data (say you expect to get new data at some later point, so we are simulating the split here). For this example, we'll be using \", _jsx(_components.em, {\n        children: \"Wine\"\n      }), \" data from Datasets widget.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Transforming the data with PCA is straightforward. Apply the PCA, select a number of components that cover a solid amount of variance and output the transformed data. We can observe the 2-dimensional PCA plot in Scatter Plot.\"\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2021-08-apply-domain/2021-08-13-scatterplot1.png\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now, let us transform the test data with another PCA, using the same parameters. Use Concatenate to merge all the data points into a single table and plot the points in Scatter Plot. Make sure that \", _jsx(_components.em, {\n        children: \"Treat variables with the same name as the same variable\"\n      }), \" is checked in Concatenate!\"]\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2021-08-apply-domain/2021-08-13-workflow1.png\"\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2021-08-apply-domain/2021-08-13-scatterplot2.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Scatter plot looks strange. The wine types are mixed up, especially in the lower part of the plot. This is because the test data and the train data were not transformed to the same PCA space.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Enter Apply Domain. The widget uses template data to transform new data to the same domain (essentially the same data space). Connect \", _jsx(_components.em, {\n        children: \"Transformed Data\"\n      }), \" to Apply Domain as \", _jsx(_components.em, {\n        children: \"Template Data\"\n      }), \". And \", _jsx(_components.em, {\n        children: \"Remaining Data\"\n      }), \" from Data Sampler as \", _jsx(_components.em, {\n        children: \"Data\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Apply Domain outputs transformed data, which can be once again merged with Concatenate (keep the same settings as before). Now, observe the results in a scatter plot.\"\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2021-08-apply-domain/2021-08-13-workflow2.png\"\n    }), \"\\n\", _jsx(WindowScreenshot, {\n      src: \"/blog/2021-08-apply-domain/2021-08-13-scatterplot3.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Well, look at that! The data is properly transformed and can be nicely discriminated by wine type in the PCA space!\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"why-you-should-use-apply-domain"},"buildId":"ltl2MNmHYj7YPBtRwizDd","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>